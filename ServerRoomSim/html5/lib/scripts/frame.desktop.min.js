/*! ds-bootstrap - v1.0.0.35072 - 2025-07-21 3:46pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";var e=DS,t=(e.MicroScrollBar,e.detection,function(e){return null!=e&&2===e.split(".").length}),n=function(e,t){return e.some((function(e){var n=t[e.name];return null==n||"outline"===e.name&&n.enabled||!0===n}))};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}var l=DS,c=l._,s=l.pubSub,u=l.events,f=l.constants,d=l.utils,h=l.translationStore,p=[],y=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=i,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:f.docked.NONE,width:0},this.setLayout(this.frame.default_layout,f.refs.FRAME),DS.flagManager.localizationPlatform&&!c.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var o=i.getFirstSlide();for(var a in this.slideWidth=o.get("width"),this.slideHeight=o.get("height"),this.temp=[],this.frame.layouts)this.temp.push(a);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),c.bindAll(this,"onLayoutChanged"),s.on(u.controlLayout.CHANGED,this.onLayoutChanged),s.on(u.controlLayout.UPDATE,(function(e,t,n){r.frame.controlLayouts[e]=n,r.setLayout(e,t)})),s.on(u.controlOptions.CHANGED,(function(e){var t=r.optionChangesRequireMenuRefresh(r.frame.controlOptions.menuOptions,e.menuOptions);r.frame.controlOptions=e,r.setupControlOptions(),s.trigger(u.controlOptions.RESET),t&&s.trigger(u.navData.REFRESH_VIEW)})),s.on(u.frame.FONT_SCALE,(function(e){r.frame.fontscale=e,s.trigger(u.controlOptions.RESET)})),s.on(u.glossary.UPDATE,(function(e){r.frame.glossaryData=e,s.trigger(u.glossary.REFRESH_VIEW)})),s.on(u.navData.UPDATE,(function(e){r.frame.navData=e,s.trigger(u.navData.REFRESH_VIEW)})),s.on(u.resources.UPDATE,(function(e){r.frame.resourceData.resources=e,s.trigger(u.resources.REFRESH_VIEW)})),s.on(u.resources.UPDATE_DESCRIPTION,(function(e){r.frame.resourceData.description=e,s.trigger(u.resources.REFRESH_VIEW)})),s.on(u.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();s.trigger(u.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),s.on(u.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();s.trigger(u.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),s.on(u.localization.LANGUAGE_UPDATED,(function(){r.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),s.on(u.localization.REVIEW_FRAME_UPDATED,(function(){r.updateReviewStrings()}))}var t,i,o;return t=e,i=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(i){e(i),null!=i.links&&t.length>0&&n.traverseMenu(e,i.links)}))}},{key:"updateMenuStrings",value:function(){var e=d.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=h.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=h.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=h.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){d.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=h.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=c.last(t.split(".")),i=h.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=i&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(i))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=h.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,i=t.value;return e[n]=i,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){s.trigger(u.strings.UPDATE_STRINGS),s.trigger(u.navData.REFRESH_VIEW),s.trigger(u.glossary.REFRESH_VIEW),s.trigger(u.resources.REFRESH_VIEW),s.trigger(u.transcript.REFRESH_VIEW),s.trigger(u.frame.REFLOW),s.trigger(u.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText,altTextEnabled:e.logoAltTextEnabled}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return h.getUpdatedTextData("frameLink","".concat(e,"-Link"),d.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e,t){var n=this.currLayout.string_table,i=this.frame.stringTables[n].string[e];return null==i?(p.includes(e)||(p.push(e),console.warn("could not find ".concat(e," in string table ").concat(n))),null!=t?t:e.replace("acc_","").replace(/_/g," ")):i}},{key:"setDocked",value:function(e,t,n){t===f.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:f.docked.NONE,width:0}:t!==f.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,this.topbarHasTabs=n([].concat(r(this.topTabsRight),r(this.topTabsLeft)),e),s.trigger(u.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],i&&a(t.prototype,i),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=y;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,k(i.key),i)}}function k(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var O,C=DS,E=C._,x=C.scaler,T=C.detection,L=C.detection.orientation,P=C.utils,j=P.getPath,D=P.scaleVal,I=P.pxify,A=C.dom,R=A.addClass,B=A.removeClass,M=C.constants.refs.FRAME,H=document.getElementById(DS.constants.els.PRESO),N={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},F=["wrapper","lightBoxWrapper"],V=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},W=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},U=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},z=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},K=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},G={l:W,r:U,t:z,b:K},q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,i;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(t=!0),E.isFunction(i)&&(i=i(this.nameSpace||e)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&H.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),i="".concat(t,"p");null!=e[n]&&null!=e[i]&&(e[t]=function(){return L.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var i=e[n];"id"===n?i=E.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(t||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=j(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",$.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=I(D(Math.max(this.w,24))),this.el.style.height=I(D(Math.max(this.h,24)))):(this.el.style.width=I(D(this.w)),this.el.style.height=I(D(this.h)))}},{key:"updateTrans",value:function(){var e=F.includes(this.nameKey)?E.identity:D,t=["translate(".concat(I(e(this.x)),", ").concat(I(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(I(e(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)t.push("translateY(".concat(I(e(this.ys[i])),")"));T.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,i=e.toLeft,r=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,c=e.hook,s=void 0===c?E.noop:c,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,p=t?n?K:z:i?U:W,y=Object.assign({l:o,r:o,t:o,b:o},e.bounds),v=l!==f?this.children.slice().reverse():this.children,b=g(t?["height","t"]:["width","l"],2),m=b[0],w=b[1],S=L.isLandscape?E.first:E.last;v.forEach((function(e){(e.beforeReflowHook||E.noop)();var t=h&&S(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?G[t](e,y,r):p(e,y,r),s(e))})),d&&(this[m]=y[w])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(T.theme.isClassic)return!1;var e=$.getTopNameSpace(),t=$.getCurrentNameSpace(),n=$.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?B(this.el,"cs-disabled"):R(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",i=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&j(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),i}},{key:"ariaVisibleWithChildren",value:function(){this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"doTextCalcs",value:function(){var e=1/x.getScale(),t=this.content.style.width,n=this.el.style.display;DS.flagManager.localizationPlatform&&(this.el.style.display="block",this.content.style.width="fit-content");var i=this.content.clientWidth*e,r=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t,this.el.style.display=n),this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=$.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[E.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,$.hasNamespace(n.nameSpace)?$.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&$.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==$.getNamespace(this.nameSpace).wrapper)return null;var e=T.theme.isClassic&&$.getNamespace(this.nameSpace).wrapper.dimScale||1,t=($.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,c=void 0===l?0:l,s=a.t,u=this;for(n=(n+c)*t,i=(i+(void 0===s?0:s))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,v=void 0===y?0:y;n+=(u.x+p)*f,i+=(u.y+v)*f}return{x:n,y:i,w:r*=t,h:o*=t}}}],n&&S(t.prototype,n),i&&S(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();q.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},q.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=q.propFns[n])Object.defineProperties(e,m({},t,{get:q.propFns[n],set:E.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=N[t]?N[t]:t;Object.defineProperties(e,m({},t,{get:function(){return this.parent[r]?e.parent[r]*i:0},set:E.noop}))}else if(E.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),c=e["min".concat(l)],s=e["max".concat(l)];o=function(){var e=a();return e<c?e=c:e>s&&(e=s),e}.bind(e)}else o=n;Object.defineProperties(e,m({},t,{get:o,set:E.noop}))}else e[t]=n;e[t]=n};var Z={},Q={},Y={},X=function(e){var t,n,i=b(e);return"string"===i?t=e:"object"===i?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(b(e))),{viewName:t,children:n}},$={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return DS.detection.deviceView.isMobile?"":'<div class="frame-icon-text"\n      style="'.concat(t,'">').concat($.model.getString(e),"</div>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);E.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var i in e){var r=this.nameSpaces[t][i];if(null!=r)r.setVisibility(e[i],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var i=new q(t,n);return null==Z[e]?(Z[e]=i,Q[e]={ViewLogic:t,p:n},Y[e]=0):console.warn("views connot share the same name ".concat(e)),i},addNameSpace:function(e){O=e,this.nameSpaces[O]=this.nameSpaces[O]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return H.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return H.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(i){var r=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(i.children.some((function(e){return"startoverlay"===e.nameKey}))?i.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return r(t,e.tabReachable)})):r(i,e.tabReachable)),i.el.querySelectorAll("[tabIndex]:not(.acc-shadow-el):not(.slide-object)").forEach((function(e){return n(e)})),"lightBoxClose"===i.nameKey&&n(i.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){E.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=Q[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++Y[e]>1){var t=Q[e],n=t.ViewLogic,i=t.p;return new q(n,i)}return Z[e]},tree:function(e,t){for(var n=this,i=[],r=function t(i){if(null!==i){var r=X(i),o=r.viewName,a=r.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,j(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var c=0;c<a.length;c++)t(a[c])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(r,o){if(null!==r){var a=X(r),l=a.viewName,c=a.children,s=n.nameSpaces[e][l];if(null!=s){if(s.init(e),null!=o?o.append(s):n.nameSpaces[e].topLevelElements.push(s),null!=s.childDef&&s.childDef(),i.push(s),s.hasChildren)for(var u=0;u<c.length;u++)t(c[u],s)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)r(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[O]},getTopNameSpace:function(){return E.last(this.nsStack)},getCurrentNameSpaceString:function(){return O},getFrameNameSpace:function(){return this.nameSpaces[M]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return $.getNamespace(e).frameBlocker;case"LightboxWnd":return $.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return $.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function J(e){return function(e){if(Array.isArray(e))return e}(e)||ne(e)||te(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||ne(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ne(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var re,oe=DS,ae=oe._,le=oe.pubSub,ce=oe.events,se={},ue=!1,fe={},de={},he=function(e){try{var t=ee(document.styleSheets).find(e);re=ee(t.rules)}catch(e){}};if(he((function(e){return null!=e.href&&e.href.includes("output.min.css")})),le.on(ce.scheme.CHANGED,(function(e){he((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),fe={},se.initializeCssColorVars()})),null!=re){var pe=function(e,t){var n,i;if(ue){n="".concat(t,".cs-").concat($.model.frame.default_layout);var r=e.split(" ");i=(r=r.map((function(e){return(e.startsWith(".")?".":"")+ae.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{$.model;n=".cs-".concat($.model.frame.default_layout).concat(t),i=e}return"".concat(n," ").concat(i)};se.getColor=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=pe(t,i);if(null==fe[r]){var o=re.find((function(e){return e.selectorText===r}));null==o&&(ue=!ue,r=pe(t,i),o=re.find((function(e){return e.selectorText===r}))||{}),fe[r]=o.style||{}}return fe[r][n]||""}}else{se.usePolyfill=!0;var ye=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},ve=/^\./,be=/\./g;se.getColor=function(e,t,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=$.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(ve.test(e))c=e.replace(be," "),i=ye("div",c);else{var n=J(e.split(".")),o=n[0],l=n.slice(1);i=ye(o,l.join(" "))}var c;0===t&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}se.initializeCssColorVars=function(){de={},se.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),se.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),se.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},se.createCssColorVar=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!de[e]){var o="";if(se.usePolyfill){var a=Object.keys($.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){se.createCssColorVar(e,t,n,i,r)}));o=a[0]}var l=se.getColor(o,t,n,i,r);if(!ae.isEmpty(l)&&e)de[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var me=se;function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function we(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Se(i.key),i)}}function Se(e){var t=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ge(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ge(t)?t:String(t)}var ke=DS,Oe=ke.detection,Ce=ke.pubSub,Ee=ke.events,xe=327,Te=new(function(){function e(){var t,n,i,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,i=function(){r.scale=Math.min(window.innerWidth/r.ratioW,window.innerHeight/r.ratioH),r.scale>1&&r.preventUpscale&&(r.scale=1),r.scaledRatioH=r.ratioH*r.scale,r.scaledRatioW=r.ratioW*r.scale},(n=Se(n="onResize"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=Oe.os.isIOS&&Oe.browser.isChrome,Oe.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),Ce.on("frame:modelReady",(function(){var e,t,n,i,o=!$.model.frame.chromeless&&!Oe.env.hideFrame;r.ratioW=null==$||null===(e=$.model)||void 0===e?void 0:e.slideWidth,r.ratioH=null==$||null===(t=$.model)||void 0===t?void 0:t.slideHeight,r.preventUpscale=null==$||null===(n=$.model)||void 0===n||null===(i=n.frame)||void 0===i?void 0:i.preventUpscale,!$.model.sidebarOpts.closed&&$.model.sidebarOpts.sidebarEnabled||(xe=0),o&&(r.ratioW+=xe,r.ratioH+=130),r.onResize()})),this.setupFullScreen()}var t,n,i;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,i="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!i?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),Ce.trigger(Ee.frameWindow.FULLSCREEN,{preso:n&&i})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,Ce.trigger(Ee.frame.REFLOW),Ce.trigger(Ee.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&we(t.prototype,n),i&&we(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());DS.frameWindow=Te;var Le=Te;function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function _e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Pe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Pe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Pe(o)?o:String(o)),i)}var r,o}var je,De,Ie,Ae,Re=DS,Be=Re.dom,Me=Re._,He=Re.detection,Ne=Re.pubSub,Fe=Re.events,Ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Me.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[Fe.loader.SHOW]=this.onLoaderShow,t[Fe.loader.MUTE]=this.onLoaderMute,t[Fe.loader.UNMUTE]=this.onLoaderUnmute,t[Fe.loader.HIDE]=this.onLoaderHide,t[Fe.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[Fe.startOverlay.READY]=this.onLoaderHide,Be.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&Be.addClass(document.body,"is-touchable-tablet"),He.env.is360&&!Le.isLockedOption&&Be.addClass(document.body,"is-360"),Ne.on(t),this.setupBrandingColor()}var t,n,i;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=me.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,Ne.trigger(Fe.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",Be.addClass(document.getElementById("preso"),"hide-slide-loader"),Ne.trigger(Fe.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",Be.removeClass(document.getElementById("preso"),"hide-slide-loader"),Ne.trigger(Fe.app.SHOW_LOADER))}}])&&_e(t.prototype,n),i&&_e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),We=DS,Ue=We.globalEventHelper.addWindowListener,ze=We.events,Ke=ze.ds,Ge=Ke.FRAME_DATA_LOADED,qe=Ke.PRESO_READY,Ze=ze.window.STACKING_CHANGED,Qe=ze.frame,Ye=Qe.MODEL_READY,Xe=Qe.SCALE,$e=ze.resume.SET_DATA,Je=ze.startOverlay.READY,et=ze.controlOptions.RESET,tt=ze.sidebar.ACTIVE_TAB_SET,nt=ze.renderTree.DESTROYED,it=We.constants,rt=(it.els.PRESO,it.refs.FRAME),ot=We.detection.theme,at=We.pubSub,lt=We.focusManager,ct=(We.flagManager,We.playerGlobals),st=We.stringTabler,ut=We.shortcutManager,ft=We.dom,dt={},ht=function(e){var t=$.nsStack.indexOf(e);t>=0&&$.nsStack.splice(t,1)},pt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$.nsStack.forEach((function(t,n,i){t.tabReachable=n===i.length-1&&e,t.updateTabIndex()}))},yt=function(e){je={createWindow:function(t,n){var i,r,o,a,l,c=this,s=$.getNamespace(t),u=function(){return function(e){var t=$.getNamespace(e),n=t.isAttached;t.reattach(),ht(t),$.nsStack.push(t),n||dt[e].all();var i=$.nsStack.length;$.nsStack.forEach((function(e,t){var n=e.slide.el;t===i-1?(ft.addClass(n,"primary-slide"),ft.removeClass(n,"secondary-slide")):(ft.removeClass(n,"primary-slide"),ft.addClass(n,"secondary-slide"))})),pt(),at.trigger(Ze,e)}(t)},f=function(e,n,i){if(e===t){var r=i?i.getWndBlockerBackground():"",o=$.getBlocker(e);null!=o&&(o.setBackgroundColor(r),o.setVisibility(n)),s.tabReachable=!n,s.updateTabIndex(!1)}};(null==s&&($.addNameSpace(t),r=e[t](De),i=_.flow(Ue("resize",(function(){r.resize(),at.trigger(Xe)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){r.resize(),at.trigger(Xe)}))),t===rt?De.setLayout(De.frame.default_layout,rt):r.all(),s=$.getNamespace(t),dt[t]=r,s.moveToTop=u,ot.isUnified&&(at.on(DS.events.frameModel.BLOCKED_CHANGED,f),at.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),at.on(et,(function e(){var t=function(){var e=[],t=$.getNamespace(rt).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each($.getNamespace(rt).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();ht($.getNamespace(rt)),r.destroy(),DS.pubSub.trigger(nt),$.nameSpaces[rt]=null,i(),at.off(et,e),c.createWindow("_frame"),r.rerender(),t.forEach((function(e){at.trigger(tt,e)}))})),null!=n)&&(null===(o=s.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:s.slide.el,wndEl:s.wrapper.el,captionEl:(s.captionContainer||{}).el,x:function(){return s.wrapper.x},y:function(){return s.wrapper.y},close:function(){s.zoomBounds=null,s.detach(),ht(s),$.nsStack[$.nsStack.length-1].moveToTop(),lt.reCenter()},moveToTop:u,getWinScale:function(){return s.slide.winScale||1},getPinchZoomBounds:function(){return s.slide.pinchZoomBounds},onPinchZoom:dt[t].pinchZoom?function(e){s.zoomBounds=e,dt[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return De.sidebarOpts.sidebarPos},getDefaultLayout:function(){return Ie.default_layout},getFonts:function(){return Ie.fonts},getFontScale:function(){return De.frame.fontscale},getCaptionData:function(){var e=De.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=De.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t},getNavData:function(){return De.frame.navData.outline.links},isReadOnlyOnce:function(){return Ie.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return $.nsStack},setAllAccVisibility:function(e){_.forEach($.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},at.on($e,pt),at.on(Je,(function(){pt(!1)})),ct.player=je},vt=function(){je.hasData=!0,at.trigger(Ge,je)},bt=10,mt=20,gt=46;function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function St(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==wt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===wt(o)?o:String(o)),i)}var r,o}var kt,Ot=DS.utils,Ct=Ot.scaleVal,Et=Ot.pxify,xt=10,Tt=function(e){return Et(Ct(e,!1))},Lt=function(e){return Et(Ct(e))},Pt=function(e){return"scale(".concat(Ct(e,!1),")")},_t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t}var t,n,i;return t=e,(n=[{key:"calcStyles",value:function(){return"\n      .cs-".concat(this.model.frame.default_layout,".cs-base {\n        border-width: ").concat(Tt(1)," !important;\n      }\n\n      #frame {\n        border-radius: ").concat(Lt(xt),";\n      }\n\n      .btn {\n        border-radius: ").concat(Tt(7),";\n      }\n\n      #nav-controls .btn svg,\n      #light-box-bottom .btn svg {\n        width: ").concat(Lt(8),";\n        height: ").concat(Lt(11),";\n      }\n\n      #reset svg {\n        width: ").concat(Lt(18),";\n        height: ").concat(Lt(16),";\n      }\n\n      .search-heading {\n        padding: ").concat(Lt(xt),";\n        margin: 0;\n        padding-bottom: ").concat(Lt(12),";\n      }\n\n      #outline-search {\n        padding: ").concat(Lt(xt),'\n      }\n\n      .search input[type="search"] {\n        height: ').concat(Lt(28),";\n        width: calc(100% - ").concat(Lt(25),");\n        border-top-left-radius: ").concat(Tt(4),";\n        border-bottom-left-radius: ").concat(Tt(4),";\n      }\n\n      #outline-search button {\n        width: ").concat(Lt(25),";\n        height: ").concat(Lt(28),";\n        border-top-right-radius: ").concat(Tt(4),";\n        border-bottom-right-radius: ").concat(Tt(4),";\n      }\n\n      .icon-search {\n        width: ").concat(Lt(14),";\n        height: ").concat(Lt(14),";\n      }\n\n      #outline-content > ul {\n        padding: ").concat(Lt(1)," ").concat(Lt(3)," ").concat(Lt(2),";\n      }\n\n      #outline-content svg {\n        width: ").concat(Lt(20),";\n        height: ").concat(Lt(20),";\n      }\n\n      .note-content, .note-title, #transcript-content hr,\n      .resources-content, .resources-title, #resources-content hr,\n      #search-results-content hr {\n        margin-left: ").concat(Tt(xt),";\n        margin-right: ").concat(Tt(xt),";\n      }\n\n      .resources-title, .note-title {\n        margin-top: ").concat(Tt(xt),";\n        margin-bottom: ").concat(Tt(xt),";\n      }\n\n      hr {\n        border-width: ").concat(Tt(1),";\n        width: calc(100% - ").concat(Tt(20),");\n      }\n\n      #transcript-content hr {\n        top: ").concat(Tt(2),";\n      }\n\n      .glossary-title {\n        padding: ").concat(Lt(xt),";\n      }\n\n      .term button {\n        padding-top: ").concat(Lt(7),";\n        padding-right: ").concat(Lt(10),";\n        padding-bottom: ").concat(Lt(7),";\n        padding-left: ").concat(Lt(10),";\n      }\n\n      #captions {\n        border-radius: ").concat(Tt(7),";\n      }\n\n      #captions svg {\n        width: ").concat(Lt(22),";\n        height: ").concat(Lt(18),";\n      }\n\n      #light-box-close svg {\n        width: ").concat(Lt(10),";\n        height: ").concat(Lt(10),";\n      }\n\n      .message-window {\n        border-width: ").concat(Tt(1),";\n      }\n\n      .message-window-header {\n        padding-right: ").concat(Lt(10),";\n        padding-left: ").concat(Lt(10),";\n      }\n\n      .message-window-header hr {\n        right: ").concat(Lt(10),";\n        left: ").concat(Lt(10),";\n      }\n\n      .message-window-header hr + hr {\n        bottom: ").concat(Lt(1),";\n      }\n\n      .volume-panel {\n        border-radius: ").concat(Tt(7),"\n      }\n\n      .volume-panel .btn {\n        height: ").concat(Tt(30),";\n      }\n\n      .volume-panel .slider-bar {\n        transform: ").concat(Pt(1),";\n      }\n\n      /* search results */\n      .icon-gear {\n        width: ").concat(Tt(14),";\n        height: ").concat(Tt(14),";\n      }\n\n      .search-results li div {\n        padding-left: ").concat(Lt(20),";\n      }\n\n      .search-results {\n        padding: ").concat(Lt(1)," ").concat(Lt(3),";\n      }\n\n      .search-filter {\n        top: ").concat(Tt(7),";\n        right: ").concat(Tt(5),';\n      }\n\n      .search-options input[type="checkbox"] {\n        transform: ').concat(Pt(1),";\n      }\n\n      .search-options p {\n        margin-left: ").concat(Lt(10),";\n        margin-right: ").concat(Lt(10),";\n      }\n\n      .search-options label {\n        margin-left: ").concat(Lt(10),";\n        margin-right: ").concat(Lt(10),";\n      }\n\n      .search-content {\n        height: calc(100% - ").concat(Tt(40),");\n      }\n\n      .search-clear {\n        padding: 0 ").concat(Tt(8),";\n      }\n\n      .search-clear svg {\n        height: ").concat(Tt(14),";\n        width: ").concat(Tt(13),";\n      }\n\n      .search-options {\n        height: ").concat(Tt(80),";\n      }\n\n      #light-box-bottom button {\n        height: ").concat(Tt(28)," !important;\n      }\n\n    ")}},{key:"update",value:function(){null!=kt&&kt.parentNode.removeChild(kt),kt=document.createElement("style"),document.body.appendChild(kt),kt.innerHTML=this.calcStyles()}}])&&St(t.prototype,n),i&&St(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===jt(o)?o:String(o)),i)}var r,o}var It,At=DS,Rt=At.dom,Bt=At._,Mt=At.pubSub,Ht=At.detection,Nt=At.frameWindow,Ft=At.globalEventHelper.addWindowListener,Vt=At.events,Wt=Vt.slide.HAS_MOUNTED,Ut=Vt.frame.SCALE,zt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"show all"!==window.globals.scale&&(this.el=t.el,Bt.bindAll(this,"onResize"),this.removeListener=Ft("resize",this.onResize),Mt.once(Wt,this.onResize),DS.flagManager.playerSizeOption&&Mt.on(Ut,this.onResize))}var t,n,i;return t=e,(n=[{key:"onResize",value:function(){var e=document.body;DS.flagManager.playerSizeOption?Ht.theme.isUnified&&!Nt.isLocked||!(e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth)?Rt.removeClass(e,"has-scrollbar"):Rt.addClass(e,"has-scrollbar"):e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth?Rt.addClass(e,"has-scrollbar"):Rt.removeClass(e,"has-scrollbar")}},{key:"teardown",value:function(){null!=this.removeListener&&this.removeListener()}}])&&Dt(t.prototype,n),i&&Dt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Kt="wrapper",Gt=DS,qt=Gt.utils.scaleVal,Zt=Gt.scaler;$.def(Kt,zt,(function(){var e=$.model,t=e.preso.display().width(),n=e.preso.display().height();return{attrs:{id:Kt,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},style:{fontSize:"".concat(Zt.getScaledFontSize(),"%")},w:t,h:n,origin:"0 0",dimScale:function(){return Zt.getScale()},html:function(){return'<div id="frame-overlay" style="z-index:'.concat(999,';"></div>')},x:function(){var e=qt(t),n=e>window.innerWidth;return Math.max(0,n?0:Math.ceil((window.innerWidth-e)/2))},y:function(){var e=qt(n),t=e>window.innerHeight;return Math.max(0,t?0:Math.ceil((window.innerHeight-e)/2))},updateHook:function(){this.el.style.fontSize="".concat(Zt.getScaledFontSize(),"%")},add:!0}}));var Qt,Yt="-20px",Xt="-30px";var $t={setTooltipOn:function(e,t,n){var i,r,o=t.left,a=t.top,l=t.width,c=t.height;null==It&&(i=$.model,r=me.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(It=document.createElement("div")).id="tooltip",It.style.left=Yt,It.style.top=Xt,It.style.borderColor=r,It.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(It),It.addEventListener("mouseleave",$t.runObjHoverOut)),Qt=e,It.style.display="block",It.innerText=n;var s=It.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-s/2);f+s>=u-10?f=u-10-s:f<=10&&(f=10);var d=a-(c+10);d<=10&&(d=a+c+10),It.style.left="".concat(f,"px"),It.style.top="".concat(d,"px")},hideTooltip:function(e){null==It||null!=e&&e!==Qt||(It.style.display="none",It.innerText="",It.style.left=0,Qt=void 0)},updateTooltip:function(e,t){var n=It.getBoundingClientRect().width;It.innerText=t,It.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=Qt?Qt.onHoverOut():$t.hideTooltip()}},Jt=$t;function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==en(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==en(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===en(o)?o:String(o)),i)}var r,o}var nn=DS,rn=nn.dom,on=nn.pubSub,an=nn.events,ln=nn._,cn=nn.constants,sn=nn.keyManager,un=nn.focusManager,fn=(nn.flagManager,nn.stringTabler),dn=nn.detection,hn="click",pn=function(){return dn.deviceView.isUnifiedDesktop},yn=function(){function e(t){var n=this;for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[i+"El"]=t.children[i].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),on.on(an.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),on.on(an.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),on.on(an.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),pn()&&(ln.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,i;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(hn,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(hn,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,i=t.y,r=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,i-=window.scrollY),un.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){un.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return fn.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(pn()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);Jt.hideTooltip();var i=this.getViewBox(e),r=i.x,o=i.y,a=i.w,l=i.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(r-=window.scrollX,o-=window.scrollY),Jt.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){Jt.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;pn()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(rn.mouseX,rn.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){sn.isKey(e.which,cn.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){on.off(an.frameModel.LAYOUT_CHANGED,this.onLayoutChange),dn.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&tn(t.prototype,n),i&&tn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function bn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==vn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==vn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===vn(o)?o:String(o)),i)}var r,o}function mn(e,t){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mn(e,t)}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wn(e);if(t){var r=wn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}var Sn="frame",kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mn(e,t)}(o,e);var t,n,i,r=gn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onScroll=function(e){e.preventDefault(),t.el.scrollTop=0,t.el.scrollLeft=0},t.el.addEventListener("scroll",t.onScroll),t}return t=o,(n=[{key:"teardown",value:function(){this.el.removeEventListener("scroll",this.onScroll)}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&bn(t.prototype,n),i&&bn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Cn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==On(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==On(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===On(o)?o:String(o)),i)}var r,o}function En(e,t){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},En(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ln(e);if(t){var r=Ln(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}(this,n)}}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}$.def(Sn,kn,(function(){var e=$.model;return{attrs:{id:Sn,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},w:"100%",h:"100%"}}));var Pn,_n,jn=DS,Dn=jn.detection,In=jn.events,An=jn.pubSub,Rn=function(){return document.getElementById("app-top")||document.body},Bn=DS.utils.pxify,Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&En(e,t)}(o,e);var t,n,i,r=xn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).visualNode=function(){var e=document.createElement("div");e.className="skipnav transparent";var t=function(){e.innerText=$.model.getString("acc_skipnavigation"),Rn().appendChild(e),window.requestAnimationFrame((function(){_n=e.clientHeight,Pn=e.clientWidth,e.className="skipnav",null!=e.parentNode&&e.parentNode.removeChild(e)}))};return An.on(In.strings.UPDATE_STRINGS,(function(){t()})),t(),e}(),DS._.bindAll(Tn(t),"onButtonClick"),t.onClick(t.onButtonClick),t}return t=o,n=[{key:"onFocus",value:function(){if(!Dn.device.isMobile){DS.focusManager.takeFocusOff();var e=$.getTopNameSpace().slide;if(DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop)Object.assign(this.visualNode.style,{right:"".concat(50,"px"),bottom:"".concat(50,"px")}),e.el.querySelector(".slide-container").style.opacity=.6,e.el.append(this.visualNode);else{var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;Object.assign(this.visualNode.style,{top:Bn(i+o-_n-50),left:Bn(n+r-Pn-50)}),e.el.style.opacity=.6,Rn().appendChild(this.visualNode)}An.trigger(In.skipNav.FOCUSED)}}},{key:"onBlur",value:function(){var e=$.getTopNameSpace().slide,t=this.visualNode.parentNode;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?e.el.querySelector(".slide-container").style.opacity=1:e.el.style.opacity=1,null!=t&&t.removeChild(this.visualNode)}},{key:"onButtonClick",value:function(e){this.el.focus(),setTimeout((function(){DS.focusManager.onSlideStarted(null,DS.windowManager.getCurrentWindowSlide())}),100)}}],n&&Cn(t.prototype,n),i&&Cn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Hn=Mn,Nn="skipnav";function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Vn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Fn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$.def(Nn,Hn,(function(){var e=$.model,t=e.getString("acc_skipnavigation");return{tag:"button",ariaStringId:"acc_skipnavigation",attrs:{id:Nn,"aria-label":t,tabindex:0},visible:e.sidebarOpts.sidebarEnabled,x:-100,y:-100,w:1,h:1,html:t,methods:{updateDomStrings:function(){this.el.textContent=e.getString("acc_skipnavigation")}}}}));var Wn=DS,Un=Wn._,zn=Wn.pubSub,Kn=Wn.events,Gn=Wn.detection,qn=Wn.constants.MOBILE_UI_SIZE,Zn="top ".concat(150,"ms ease-in-out");function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Qn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Qn(o)?o:String(o)),i)}var r,o}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xn(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ei(e);if(t){var r=ei(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}(this,n)}}function Jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}var ti=DS,ni=ti.pubSub,ii=ti.events,ri=ti._,oi=ti.utils,ai=(ti.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xn(e,t)}(o,e);var t,n,i,r=$n(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),ri.bindAll(Jn(t),"onSlideChange","onAriaToggle"),ni.on(ii.slide.HAS_MOUNTED,t.onSlideChange),ni.on(ii.slide.ARIA_TOGGLE,t.onAriaToggle),t.teardownPushableSlide=function(e){var t;if(!Gn.deviceView.isPhone)return Un.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function i(t){e.view.el.style.transition=Zn;var n=.45*window.innerHeight-10,i=-(e.view.bottom()-n),r=e.view.y+i,o=0;r<qn&&Gn.theme.isUnified?o=qn-r+10:r<0&&(o=-1*r+10),e.view.el.style.top="".concat(i+o,"px")}function r(){e.view.el.style.transition=Zn,e.view.el.style.top="".concat(0,"px")}return zn.on((Vn(t={},Kn.threeSixtyImage.UN_PUSH_LABEL,n),Vn(t,Kn.threeSixtyImage.PUSH_UP_BY_LABEL,i),Vn(t,Kn.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),t)),function(){n(),zn.off(Kn.threeSixtyImage.UN_PUSH_LABEL,n),zn.off(Kn.threeSixtyImage.PUSH_UP_BY_LABEL,i),zn.off(Kn.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Jn(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){ni.off(ii.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat($.model.getString("slide"),": ").concat(oi.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Yn(t.prototype,n),i&&Yn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn)),li="slide";$.def(li,ai,(function(e){var t=$.getNamespace(e),n=t.frame,i=t.sidebar,r=(t.title,$.model);return{attrs:{id:li},winScale:function(){return DS.scaler.getScale()},origin:"0 0",w:r.slideWidth,h:r.slideHeight,x:function(){var e=0,t=0;return"left"===i.pos&&(t=i.w),e=i.visible?n.x+t+bt:n.x+n.w/2-this.w/2,e-1},y:function(){var e=n.y+bt;return $.model.hasTopLinks()&&(e+=24),(r.sidebarOpts.titleEnabled||r.sidebarOpts.timeEnabled)&&(e+=23),e},add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div><main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>',noContent:!0,childViews:["captionContainer"],updateHook:function(){this.children.captionContainer.update()}}}));var ci,si="logo",ui=DS.utils.scaleVal;$.def(si,(function(e){var t=$.model,n=$.getNamespace(e).sidebar,i=t.sidebarOpts.html5_logo_url,r=t.sidebarOpts.logoPlaceholderText,o=200,a=150;return{id:si,attrs:{class:null!=r?"placeholder":"logo cs-logo"},x:function(){return bt},y:bt,w:o+mt,h:function(){return(null!=ci&&i===ci.imgSrc?ci.imgH:a)+mt},html:function(){var e=this;if(null!=r){var t=document.createElement("div");t.className="placeholder-text",t.style.fontSize="2.5em",t.innerText=r,this.el.appendChild(t)}else{this.img=document.createElement("img"),this.img.onload=function(){o=Math.min(e.img.naturalWidth,200),a=e.img.naturalHeight/e.img.naturalWidth*o,ci={imgW:o,imgH:a,imgSrc:i},e.img.width=ui(o),e.img.onload=null,n.updateChildren(!0)};var l=DS.utils.resolveAssetUrl(i);this.img.src=l,this.el.appendChild(this.img)}},updateHook:function(){null!=this.img&&(this.img.width=ui(o))},visible:t.sidebarOpts.logoEnabled}}));var fi="sidebar";$.def(fi,(function(e){var t=$.model,n=$.getNamespace(e).frame;return{tag:"section",attrs:{id:fi,class:"cs-left","aria-label":"sidebar"},style:{zIndex:1},maxW:400,visible:t.sidebarOpts.sidebarEnabled,pos:t.sidebarOpts.sidebarPos,x:function(){var e=0;return"right"===this.pos&&(e=n.w-this.w),e},w:function(){return this.visible?240:0},h:"100%"}}));var di="topBar";$.def(di,(function(e){var t=$.getNamespace(e),n=t.sidebar,i=t.frame,r=t.title,o=$.model;return{tag:"section",noTabIndex:!0,attrs:{id:di,"aria-label":"top bar"},overflow:"visible",x:function(){return"left"===n.pos?n.right():0},w:function(){return i.w-n.w-bt},h:function(){var e=0;return r.visible||o.sidebarOpts.timeEnabled?e=58:o.hasTopLinks()&&(e=34),e},y:0}}));var hi="title";function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Oi(i.key),i)}}function mi(e,t){return mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mi(e,t)}function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Si(e);if(t){var r=Si(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wi(e)}(this,n)}}function wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}function ki(e,t,n){return(t=Oi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(e){var t=function(e,t){if("object"!==pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==pi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pi(t)?t:String(t)}$.def(hi,(function(e){var t=$.model,n=$.model.rtl,i=$.getNamespace(e),r=i.timer,o=i.linksLeft,a=i.linksRight;return{id:hi,tag:"h1",attrs:{class:"presentation-title cs-title ".concat(n?"rtl":""),tabindex:-1},x:n?0:16,y:function(){return(t.hasTopLinks()?8:0)-1},calcTextSize:!0,w:function(){var e=n?5:-10;return this.parent.w-(t.sidebarOpts.timeEnabled?r.w:0)-this.x+e},h:function(){return this.parent.h-16},html:t.title.text,visible:t.sidebarOpts.titleEnabled,updateHook:function(){var e="remove";if(!((n?t.topTabsRight:t.topTabsLeft).length>0)){(n?o:a).calcChildrensWidth((function(e){return"TabPanel"!==e.ViewLogic.name}))+this.lastWidthByText<this.parent.w&&(e="add")}this.el.classList[e]("centered")}}}));var Ci=DS,Ei=Ci.detection,xi=Ci.events,Ti=Ci.pubSub,Li=Ci.svgUtils,Pi=Ci._.bindAll,_i={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mi(e,t)}(o,e);var t,n,i,r=gi(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ki(wi(n=r.call(this,e)),"updateReadeableTimer",(function(){n.timerTextReadEl.innerHTML=n.timerTextEl.innerHTML})),Pi(wi(n),"onShow","onHide","onTick"),Ti.on((ki(t={},xi.timer.SHOW,n.onShow),ki(t,xi.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=Ei.theme.isUnified,n}return t=o,n=[{key:"getTimeFormat",value:function(){if(!Ei.deviceView.isClassicMobile){var e=$.model.sidebarOpts.timeFormat;if(e&&null!=_i[e.toLowerCase()])return e.toLowerCase();if(!$.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;Ti.off((ki(e={},xi.timer.SHOW,this.onShow),ki(e,xi.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=_i[this.timeFormat](t,n),!Ei.deviceView.isClassicMobile){var i=Li.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),Ei.deviceView.isDesktop&&(requestAnimationFrame(this.updateReadeableTimer),this.timeReadId=setInterval(this.updateReadeableTimer,7e3)),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,Ei.deviceView.isDesktop&&clearTimeout(this.timeReadId),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=yi(e?["add","remove"]:["remove","add"],2),n=t[0],i=t[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,i=e.width,r=e.height;t-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:i,height:r})}}],n&&bi(t.prototype,n),i&&bi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Di=ji,Ii="timer";function Ai(e){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(e)}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Mi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ai(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ai(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ai(o)?o:String(o)),i)}var r,o}function Hi(){return Hi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wi(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Hi.apply(this,arguments)}function Ni(e,t){return Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ni(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wi(e);if(t){var r=Wi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vi(e)}(this,n)}}function Vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wi(e){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wi(e)}$.def(Ii,Di,(function(e){return{noTabIndex:!0,attrs:{id:Ii,"aria-label":"timer",class:"timer cs-timer"},overflow:"visible",x:function(){return $.getNamespace(e).topBar.w-210},y:6,w:200,h:gt,visible:!1,html:'\n      <div class="timer-wheel cs-pie">\n        <svg\n          style="width: 18px; height: 18px; overflow: visible;"\n          width="18"\n          height="18"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          focusable="false"\n        >\n        <circle cx="9" cy="9" r="9" fill="url(#timer-yellow-grad)" />\n        <path data-ref="timerPath"\n          d=""\n          fill="url(#timer-blue-grad)"\n          transform="rotate(-90 9 9)"\n          stroke="none" />\n\n          <circle cx="9" cy="9" r="10" fill="none" class="cs-innerstroke" stroke-width="1"/>\n          <circle cx="9" cy="9" r="9" fill="none" class="cs-innerborder" stroke-width="1"/>\n        </svg>\n      </div>\n      <div class="timer-text" data-ref=\'timerText\' tabindex=\'0\' data-tabindex=\'0\'></div>\n    '}}));var Ui=DS,zi=Ui._,Ki=Ui.keyManager,Gi=Ui.focusManager,qi=Ui.windowManager,Zi=Ui.pubSub,Qi=Ui.events,Yi=Ui.detection,Xi=Ui.globalEventHelper,$i=Xi.addBodyListener,Ji=Xi.removeBodyListener,er=Xi.addWindowListener,tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ni(e,t)}(o,e);var t,n,i,r=Fi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),zi.bindAll(Vi(t),"onKeydown","onResizeRefresh"),t.active=[],Zi.on(Qi.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(Vi(t))),DS.flagManager.localizationPlatform&&Zi.on(Qi.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Vi(t))),Yi.theme.isUnified&&(t.removeResize=er("resize",t.onResizeRefresh)),t}return t=o,(n=[{key:"onResizeRefresh",value:function(){var e=this;clearTimeout(this.forceRefresh),this.forceRefresh=setTimeout((function(){e.view.update()}),200)}},{key:"onShowTabItem",value:function(e,t){var n=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=n?(n.viewLogic.showPanel(),Zi.trigger(Qi.sidebar.OPEN)):document.body.classList.contains("floating-sidebar")&&Zi.trigger(Qi.sidebar.CLOSE)}},{key:"onActiveTabSet",value:function(e){var t=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=t&&t.viewLogic.showPanel()}},{key:"onLayoutChange",value:function(e){var t=this;if(null!=$.model&&0!==this.view.children.length){var n=($.model.sidebarTabs||[]).reduce((function(n,i){var r=i.name,o=e[r],a="".concat(r,"Tab");return(zi.isObject(o)?!0===o.enabled:!0===o)&&null!=t.view.children[a]&&n.push(t.view.children[a]),n}),[]);if(this.view.children.forEach((function(e){e.el.setAttribute("aria-selected",!1),e.el.tabIndex=-1})),0===this.active.length&&n.length>0||!n.includes(this.currentTab)){var i=Ri(n,1)[0];this.currentTab=i}if(null!=this.currentTab){this.currentTab.el.setAttribute("aria-selected",!0);var r=qi.getCurrentWindow();null!=r&&null!=r.getId&&"_frame"!==r.getId()||(this.currentTab.el.tabIndex=0)}this.active=n}}},{key:"onFocus",value:function(e){this.isFocused||(this.isFocused=!0,this.getInitialActive().setCurrent(),$i("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(this.isFocused=!1,Hi(Wi(o.prototype),"onBlur",this).call(this),Ji("keydown",this.onKeydown))}},{key:"onKeydown",value:function(e){var t=this.currentTab;Ki.isActionKey(e.which)?(this.activeTab=this.currentTab,this.activateTab()):Ki.isRightKey(e.which)?this.currentTab=this.getNextTab(this.currentTab.model.idx):Ki.isLeftKey(e.which)?this.currentTab=this.getPrevTab(this.currentTab.model.idx):Ki.isHomeKey(e.which)?this.currentTab=this.getFirstTab():Ki.isEndKey(e.which)&&(this.currentTab=this.getLastTab()),t!==this.currentTab&&(null!=t&&(t.el.tabIndex=-1),this.setCurrent())}},{key:"activateTab",value:function(){null!=this.activeTab&&(zi.forEach(this.view.children,(function(e){return e.el.setAttribute("aria-selected",!1)})),this.activeTab.el.setAttribute("aria-selected",!0),this.activeTab.viewLogic.showPanel())}},{key:"setAsActive",value:function(e){this.activeTab=this.currentTab=e}},{key:"tabDidChangeVisibility",value:function(){this.view.visible&&(null!=this.activeTab&&this.activeTab.visible||(this.currentTab=this.activeTab=zi.first(this.getLiveChildren())),this.activateTab())}},{key:"setCurrent",value:function(){var e=this.currentTab;if(null!=e){e.el.tabIndex=0,e.el.focus();var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;Gi.setFocusRectOn(e.el,{left:n,top:i,width:r,height:o})}}},{key:"getInitialActive",value:function(){return this.currentTab=this.activeTab=this.getLiveChildren().find((function(e){return e.el===document.activeElement})),this}},{key:"getNextTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))+1;return n===t.length&&(n=0),t[n]}},{key:"getPrevTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))-1;return-1===n&&(n=t.length-1),t[n]}},{key:"getFirstTab",value:function(){return this.view.children.find((function(e){return e.viewLogic.isLive()}))}},{key:"getLastTab",value:function(){return this.view.children.slice().reverse().find((function(e){return e.viewLogic.isLive()}))}},{key:"getLiveChildren",value:function(){return this.view.children.filter((function(e){return e.viewLogic.isLive()}))}},{key:"getSelectedTab",value:function(){return this.view.children.find((function(e){return!0===e.viewLogic.isActive}))}},{key:"teardown",value:function(){Zi.off(Qi.sidebar.ACTIVE_TAB_SET),o.lastSelectedTab=this.getSelectedTab(),null!=this.removeResize&&this.removeResize()}}])&&Mi(t.prototype,n),i&&Mi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function ir(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==nr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==nr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===nr(o)?o:String(o)),i)}var r,o}function rr(e,t){return rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rr(e,t)}function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ar(e);if(t){var r=ar(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ar(e){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ar(e)}var lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rr(e,t)}(o,e);var t,n,i,r=or(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).searchEnabled=$.model.frame.controlOptions.controls.search,t.onClick(t.showPanel),t}return t=o,(n=[{key:"didChangeVisibility",value:function(e){this.view.parent.viewLogic.tabDidChangeVisibility()}},{key:"showPanel",value:function(e){if(!this.isActive){var t=this.view.parent,n=t.children;for(var i in n)n[i].viewLogic.hidePanel();this.el.classList.add("cs-selected"),this.el.setAttribute("aria-selected","true"),this.isActive=!0,t.viewLogic.setAsActive(this.view),DS.pubSub.trigger(DS.events.tab.SHOW,this.model.name)}}},{key:"hidePanel",value:function(){this.el.classList.remove("cs-selected"),this.el.setAttribute("aria-selected","false"),this.isActive=!1}},{key:"isLive",value:function(){var e=$.model.currControlLayout[this.model.name];return _.isObject(e)?e.enabled:e}}])&&ir(t.prototype,n),i&&ir(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),cr="tabs",sr=DS,ur=sr._,fr=sr.utils,dr=fr.getPath,hr=fr.scaleVal,pr=fr.pxify,yr=sr.constants.refs.FRAME,vr=($.def(cr,tr,(function(e){var t=$.getNamespace(e),n=t.sidebar,i=t.logo,r=$.model.rtl;return{attrs:{id:cr,role:"tablist",tabindex:-1,"aria-label":"sidebar-tabs"},overflow:"visible",x:9,y:function(){return(i?i.bottom():0)+bt-1},w:function(){return n.w-mt},h:function(){return ur.get(this,"children[0].h",25)},updateHook:function(){var e=this,t=this.children.length;if(0!==t){var n=t<=2,i=this.children.reduce((function(e,t){return t.lastWidthByText+e}),0),o=this.w-8*(t-1),a=(this.w-i)/t,l=this.w/t;if(n&&o>i||!n&&this.w>i){var c=0;this.children.forEach((function(i,r){var o=n?8:0,l=Math.round(i.lastWidthByText+(n?8:a))-o;n||r!==t-1||(l=e.w-c),i.width=l,c+=l}))}else{this.children.slice().sort((function(e,t){return e.lastWidthByText-t.lastWidthByText})).forEach((function(e,n){var i=e.lastWidthByText;i<l?(e.width=i,l+=(l-i)/(t-(n+1))):e.width=l}))}}var s={};r&&(s.toLeft=!0,s.startPos=this.w),this.flowChildren(s)},childDef:function(){vr($.model)}}})),function(e){var t=!1;dr(e,"sidebarTabs",[]).forEach((function(n,i){var r=function(e,t,n,i){var r=t.name,o=e.getString(r),a=e.currControlLayout[r],l=!i&&(ur.isObject(a)?a.enabled:a),c=r+"Tab",s=$.def(c,lr,{model:Object.assign(t,{idx:n}),tag:"button",attrs:{id:c,class:"tab cs-tabs ".concat(l?"cs-selected":""),role:"tab","aria-selected":l?"true":"false","aria-label":o,"aria-controls":"".concat(r,"-panel"),tabindex:0===n?0:-1},style:{borderTopLeftRadius:pr(hr(6)),borderTopRightRadius:pr(hr(6))},calcTextSize:!0,w:function(){return this.width||this.lastWidthByText+mt},padLeft:6,padRight:6,noUpdate:!0,h:function(){return this.lastHeightByText||26},html:o,updateHook:function(){this.el.style.borderTopLeftRadius=this.el.style.borderTopRightRadius=pr(hr(6))}});return s.init(),$.getNamespace(yr).tabs.append(s),l}(e,n,i,t);t=r||t}))});function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function mr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==br(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==br(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===br(o)?o:String(o)),i)}var r,o}function gr(){return gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Or(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},gr.apply(this,arguments)}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Or(e);if(t){var r=Or(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}(this,n)}}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}var Cr=DS,Er=Cr._,xr=Cr.pubSub,Tr=Cr.detection,Lr=Cr.globalEventHelper,Pr=(Lr.addDocumentListener,Lr.removeDocumentListener,Cr.keyManager.isTabKey,Cr.playerGlobals),_r=Cr.utils,jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(o,e);var t,n,i,r=Sr(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Er.bindAll(kr(t),"onShow"),xr.on(DS.events.tab.SHOW,t.onShow),t}return t=o,(n=[{key:"getFirstChild",value:function(){return Er.first(this.view.children)}},{key:"focusChild",value:function(){this.getFirstChild().viewLogic.focusSelf()}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(e){if(!Pr.presentation.isPreview()||window.globals.HAS_SLIDE)if(DS.flagManager.localizationPlatform){var t=_r.getPath(this,this.view.lnk);Tr.deviceView.isDesktop&&null!=t&&!t.translationShown&&this.isTargetOutsidePanel(e.relatedTarget)&&(gr(Or(o.prototype),"onBlur",this).call(this,e),t.viewLogic.hidePanel())}else Tr.deviceView.isDesktop&&null!=this.view.lnk&&this.isTargetOutsidePanel(e.relatedTarget)&&(gr(Or(o.prototype),"onBlur",this).call(this,e),this.view.lnk.viewLogic.hidePanel())}},{key:"isTargetOutsidePanel",value:function(e){return null==e||!this.el.contains(e)&&Er.camelCase(e.id)!==this.view.lnk.nameKey&&Er.camelCase(e.parentElement.id)!==this.view.lnk.nameKey}},{key:"onShow",value:function(e){var t="".concat(e,"Panel");if(this.view.nameKey===t){var n=this.view.parent.children,i=this.getFirstChild();for(var r in n)r.indexOf("Panel")>-1&&n[r].viewLogic.onHide();this.el.style.display="block",null!=i.onPanelVisible&&i.onPanelVisible()}}},{key:"onHide",value:function(){this.el.style.display="none"}},{key:"isTopLink",value:function(){return null!=this.view.tabsId}},{key:"getTopTabsView",value:function(){return this.view.lnk.parent.parent}},{key:"teardown",value:function(){xr.off(DS.events.tab.SHOW,this.onShow)}}])&&mr(t.prototype,n),i&&mr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Dr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Dr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Dr(o)?o:String(o)),i)}var r,o}function Ar(e,t){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ar(e,t)}function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Br(e);if(t){var r=Br(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}var Mr=DS.detection,Hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ar(e,t)}(o,e);var t,n,i,r=Rr(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"focusSelf",value:function(){var e=this.view.children,t=e.search,n=e.outline;if(null!=t){var i=t.viewLogic.searchInputEl;Mr.deviceView.isUnifiedMobile?(i.style.pointerEvents="none",setTimeout((function(){i.style.pointerEvents="all"}),100)):i.focus()}else n.viewLogic.focusSelf()}},{key:"onFocus",value:function(){}}],n&&Ir(t.prototype,n),i&&Ir(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Nr=Hr;function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Fr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Fr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Fr(o)?o:String(o)),i)}var r,o}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Kr(e);if(t){var r=Kr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}(this,n)}}function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}var Gr=DS,qr=Gr.pubSub,Zr=Gr.events,Qr=Gr.TweenLite,Yr=Gr.focusManager,Xr=Gr._.bindAll,$r=Gr.dom.addClass,Jr=Gr.detection,eo=!1,to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}(o,e);var t,n,i,r=Ur(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=r.call(this,e)).view.children.searchForm.el,i=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(zr(t))),Jr.deviceView.isMobile&&(Xr(zr(t),"onMobileOutlineShown"),i.addEventListener("input",t.onSearch.bind(zr(t))),qr.on(Zr.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){qr.off(Zr.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),qr.off(Zr.controlOptions.RESET,this.onControlOptionsReset,this),eo=!1}},{key:"ensureEventSubscriptions",value:function(){eo||(qr.on(Zr.controlOptions.RESET,this.onControlOptionsReset,this),eo=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),$r(document.body,"tab-shown")}},{key:"onFocus",value:function(e){Yr.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children,i=n.bottomDiv,r=n.searchStatus,o=document.querySelector("#outline-content ul");Qr.to(o,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,Qr.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),i.el.style.opacity=0,t.setVisibility(!0)}});var a=t.viewLogic.performSearch(this.searchInputEl.value),l=DS.stringTabler.getString("acc_search_results_status",{count:a,term:this.searchInputEl.value},"%count% results found for %term%");r.el.textContent=l,$r(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,i=t.searchResults.visible,r=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&Vr(t.prototype,n),i&&Vr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),no=to,io=function(){return"no icon"},ro={next:function(e){return'<svg class="cs-icon" width="8" height="11" viewBox="0 0 8 11" focusable="false" data-ref="icon">\n    <use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <polygon\n      id="next-icon"\n      transform="translate(0, 1)"\n      points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5" />\n  </svg>'},prev:function(e){return'<svg class="cs-icon" width="8" height="11" viewBox="0 0 8 11" focusable="false" data-ref="icon">\n    <use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)"></use>\n    <polygon\n      id="prev-icon"\n      transform="translate(0, 1)"\n      points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>\n  </svg>'},replay:function(e){return'<svg id="icon-replay" class="cs-icon" width="18" height="16" viewBox="0 0 18 16" focusable="false" data-ref="icon">\n    <use xlink:href="#replay-icon" class="cs-icon-shadow" transform="translate(0, 1.5)"></use>\n    <path id="replay-icon" transform="translate(-3, 1)" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>\n  </svg>'},play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return'<svg id="icon-play" class="cs-icon play-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,'" height="').concat(e,'" viewBox="0 0 11 14" focusable="false" data-ref="icon">\n    <use xlink:href="#play-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <path\n      id="play-icon"\n      transform="translate(3.5, 1)"\n      d="M1.3 0.1l8.3 5.2c0.5 0.3 0.5 1 0 1.3l-8.3 5.2c-0.5 0.3-1.3 0-1.3-0.7L0 0.8C0 0.3 0.7-0.2 1.3 0.1z" />\n  </svg>')},pause:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return'<svg id="icon-pause" class="cs-icon pause-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,'" height="').concat(e,'" viewBox="0 0 12 14" focusable="false" data-ref="icon">\n    <use xlink:href="#pause-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <g id="pause-icon" transform="translate(2, 1)">\n       <rect x="0" width="4" height="14"/>\n       <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>')},volume:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=e>0?"":"hidden",i=e>=5?"":"hidden",r=10==e?"":"hidden";return'<svg class="cs-icon volume-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,'" height="').concat(t,'" viewBox="0 0 15 20" focusable="false" data-ref="icon">\n    <use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <g id="player-volume" transform="translate(-1, 4)">\n      <polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>\n      <rect class="').concat(n,'" x="10" y="5" width="1" height="6"/>\n      <rect class="').concat(i,'" x="12" y="4" width="1" height="8"/>\n      <rect class="').concat(r,'" x="14" y="3" width="1" height="10"/>\n    </g>\n  </svg>')},captions:function(){return'<svg\n    class="cs-icon caption-icon"\n    data-ref="icon"\n    width="22px" height="18px" viewBox="0 0 22 18"\n    focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(0, 1)">\n      <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n    </g>\n  </svg>'},carrot:function(e){return'<svg\n    style="left:calc('.concat(e,');"\n    class="cs-icon cs-icon-carrot carrot"\n    width="20" height="20" viewBox="-8 -6 20 20"\n    focusable="false">\n    <use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)"></use>\n    <polygon id="icon-carrot" points="1,1.5 5,5 1,8.5" transform="translate(0, 2)"></polygon>\n  </svg>')},search:function(){return'\n  <svg class="cs-icon icon-search" width="14" height="14" viewBox="0 0 14 14" focusable="false" data-ref="icon">\n    <path transform="translate(1,3)" d="M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2\n  C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"/>\n  </svg>\n  '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'<svg class="icon" width="10" height="10" viewBox="0 0 10 10" focusable="false" data-ref="icon">\n    <use xlink:href="#close-icon" class="cs-icon-shadow" transform="translate(0, .5)" />\' +\n    <path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>\n  </svg>'},clear:function(){return'<svg\n    data-ref="icon"\n    class="cs-icon icon-clear"\n    width="13" height="14" viewBox="0 0 13 14"\n    focusable="false">\n    <use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return'\n    <svg class="cs-icon" data-ref="settings" width="'.concat(16*e,'px" height="').concat(18*e,'px" viewBox="0 0 16 18" focusable="false">\n      <g transform="translate(0, 2)">\n        <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n      </g>\n    </svg>\n    ')},track:function(e,t,n,i,r,o){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(24*e,'px" height="').concat(16*e,'px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="').concat(o,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(o,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="').concat(i,'" fill-rule="evenodd" xlink:href="#').concat(o,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(o,'-trackFilter)" xlink:href="#').concat(o,'-track"></use>\n                <use stroke="').concat(r,'" stroke-width="1" xlink:href="#').concat(o,'-track"></use>\n                <circle fill="').concat(n,'" cx="7" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="').concat(i,'" fill-rule="evenodd" xlink:href="#').concat(o,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(o,'-trackFilter)" xlink:href="#').concat(o,'-track"></use>\n                <use stroke="').concat(r,'" stroke-width="1" xlink:href="#').concat(o,'-track"></use>\n                <circle fill="').concat(t,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(e){return'\n      <svg class="panel-down-arrow" data-ref="arrow" width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="'.concat(e,'"/>\n      </svg>\n    ')}},oo=function(e){return ro[e]||io},ao="search",lo=DS,co=lo.utils,so=(co.pxify,co.scaleVal,lo.playerGlobals),uo=$.def(ao,no,(function(){var e=$.model,t=$.getCurrentNameSpaceString(),n=function(){return me.getColor(t,".cs-outline .cs-diva","border-color")},i=function(){return me.getColor(t,".cs-outline .cs-divb","border-color")};return{attrs:{class:ao,"aria-label":e.getString("acc_search_input"),tabIndex:-1},z:3,x:0,y:function(){return this.parent.y+this.parent.h-48},w:function(){return this.parent.w},h:48,html:function(){return'\n      <div class="search-ui">\n        <div data-ref="bottomDiv">\n          <hr class="cs-diva diva" style="border-color: '.concat(n(),'">\n          <hr class="cs-divb divb" style="border-color: ').concat(i(),'">\n        </div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput" tabindex="-1">\n          <input class="cs-input" data-ref="searchInput" type="search" placeholder="').concat(e.getString("search"),'" tabindex="0">\n          <button\n            class="cs-button btn-unstyled" style="background-repeat: no-repeat;"\n            data-ref="searchBtn"\n            tabindex="-1"\n          >').concat(oo("search")(),"</button>\n        </form>\n      </div>")},updateHook:function(){so.presentation.isPreview()&&(this.children.bottomDiv.el.querySelector("hr.cs-diva").style.borderColor=n(),this.children.bottomDiv.el.querySelector("hr.cs-divb").style.borderColor=i()),this.viewLogic.ensureEventSubscriptions()}}}));function fo(e){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(e)}function ho(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==fo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==fo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===fo(o)?o:String(o)),i)}var r,o}function po(){return po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mo(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},po.apply(this,arguments)}function yo(e,t){return yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yo(e,t)}function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mo(e);if(t){var r=mo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bo(e)}(this,n)}}function bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mo(e)}var go=DS,wo=go.focusManager,So=go.keyManager,ko=go.detection,Oo=go.globalEventHelper,Co=Oo.addDocumentListener,Eo=Oo.removeDocumentListener,xo=(go.utils.getPath,go.dom),To=xo.parentNodesOf,Lo=xo.addClass,Po=xo.removeClass,_o=go._,jo=_o.first,Do=_o.last,Io=_o.bindAll,Ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yo(e,t)}(o,e);var t,n,i,r=vo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Io(bo(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;ko.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||jo(this.getItems()),Lo(this.currentItem,"hover"),So.isShowFocus&&this.centerOnFocused(),wo.setFocusRectOn(this.getFocusRectTarget()),Co("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(po(mo(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(Po(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),Eo("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;So.isActionKey(e.which)?(this.activateItem(e),So.isSpaceKey(e.which)&&e.preventDefault()):So.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):So.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):So.isHomeKey(e.which)?this.currentItem=this.getFirstItem():So.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,Po(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,Lo(this.currentItem,"hover"),this.currentItem.focus()),wo.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return Do(this.getItems())}},{key:"getFirstItem",value:function(){return jo(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return To(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>t?e.scrollTop=r-t+10:i<n+10&&(e.scrollTop=i-10)}}}])&&ho(t.prototype,n),i&&ho(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Ro=function(){return"no icon"},Bo={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" aria-hidden="true">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" aria-hidden="true">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" aria-hidden="true">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" aria-hidden="true">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" aria-hidden="true"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" aria-hidden="true">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" aria-hidden="true">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" aria-hidden="true">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" aria-hidden="true">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" aria-hidden="true">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" aria-hidden="true">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" aria-hidden="true">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" aria-hidden="true" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},Mo={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" aria-hidden="true">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},Ho=function(e){return DS.detection.env.isPerpetual?Bo[e]||Ro:Mo[e]||Bo[e]||Ro};function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function Fo(e){return function(e){if(Array.isArray(e))return Uo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||Wo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){if(e){if("string"==typeof e)return Uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uo(e,t):void 0}}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zo(e,t){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zo(e,t)}function Ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qo(e);if(t){var r=qo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Go(e)}(this,n)}}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(e)}function Zo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==No(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==No(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===No(o)?o:String(o)),i)}var r,o}function Qo(e,t,n){return t&&Zo(e.prototype,t),n&&Zo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Xo=function(e){return t(e.slideid)},$o=DS,Jo=$o.windowManager,ea=$o.focusManager,ta=$o.TweenLite,na=$o.events,ia=$o.pubSub,ra=$o.keyManager,oa=$o.resolver,aa=$o.dom,la=(aa.hasClass,aa.removeClass),ca=aa.addClass,sa=aa.getParentWithClass,ua=$o._,fa=ua.bindAll,da=(ua.first,$o.utils),ha=da.stripTags,pa=(da.stripPlayer,da.prefixWithPlayer),ya=$o.globalEventHelper,va=ya.addDocumentListener,ba=(ya.removeDocumentListener,$o.detection),ma=ba.theme,ga=ba.os,wa=Qo((function e(t,n,i){Yo(this,e),this.slideId=t,this.title=n,this.text=i})),Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zo(e,t)}(n,e);var t=Ko(n);function n(e){var i;Yo(this,n),i=t.call(this,e),fa(Go(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=$.model.frame.notesData||[];return i.notesBySlideId=r.map((function(e){return new wa(pa(e.slideId),DS.utils.getPath(oa.resolvePath(e.slideId,DS.presentation),"title"),ha(e.content).trim())})),i.slideTextData=$.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new wa(pa(e.slideid),DS.utils.getPath(oa.resolvePath(e.slideid,DS.presentation),"title"),ha(e.Text).trim())})),i.menuOptions=$.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=$.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(e){return e.slidebank})),i.hasSlideBankSlides&&ia.on(na.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),ia.on(na.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),ia.on(na.window.MAIN_CHANGED,i.onSlideChanged),i}return Qo(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=oa.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new wa(n.absoluteId,n.title(),ha(t.Text))),e}),[])}},{key:"teardown",value:function(){ia.off(na.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&ia.off(na.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&la(t,"cs-selected"),null!=n&&(ca(n,"cs-selected"),ca(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return ea.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return ea.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!ma.isUnified||ra.isShowFocus)){var n=Vo(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),va("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=sa(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(ca(t,"cs-viewed"),this.updateAriaLabel(t),ia.trigger(na.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){ma.isUnified&&Fo(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),i=e.getAttribute("data-slide-title");e.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];Xo(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=Jo.getCurrentWindow().getCurrentSlide().absoluteId===e||oa.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return $.model.getString("acc_visited");case"locked":return"".concat($.model.getString("acc_visited"),", ").concat($.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return $.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.globals.HAS_SLIDE)return 0;this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=$.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);ga.isIOS;var o=this.wrapListItems?"":"no-wrap",a=Jo.getCurrentWindow().getCurrentSlide().absoluteId,l=0;return this.searchResults.forEach((function(t,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),c=oa.resolvePath(n).viewed?"cs-viewed":"",s=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(c," ").concat("free"!==s&&"cs-"+s,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");ma.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat($.model.getString("acc_visited"),'">\n               ').concat(Ho("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat($.model.getString("acc_locked"),'">\n               ').concat(Ho("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat($.model.getString("acc_visited"),", ").concat($.model.getString("acc_locked"),'">\n               ').concat(Ho("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),r.innerHTML=f,e.resultsEl.appendChild(r),l=-1})),this.searchResults.size}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,i=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),ta.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){ta.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,ra.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",la(document.body,"search-results-active"),ia.trigger(na.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||Fo(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(Ao),ka=Sa,Oa="searchResults",Ca=$.def(Oa,ka,(function(e){var t=$.model;t.rtl;return{attrs:{id:Oa+"-content",tabindex:-1},z:2,x:0,y:0,w:"100%",h:function(){return this.parent.h},visible:!1,html:'\n      <span class="cs-outline search-content" data-ref="content">\n        <span class="flex-static-auto">\n          <h4 data-ref="title" class="cs-heading search-heading panel-section-heading">\n            '.concat(t.getString("search_results"),'\n          </h4>\n          <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n            <span>').concat(t.getString("filter"),"</span>\n            ").concat(oo("filter")(),'\n          </button>\n        </span>\n        <hr class="cs-div cs-diva" />\n        <div class="search-options flex-static-auto" data-ref="searchOptions">\n          <p>').concat(t.getString("search_in"),'</p>\n          <label>\n            <input data-ref="notesCheck" type="checkbox" checked hidden>\n            <span>').concat(t.getString("transcript_chk"),'</span>\n          </label>\n          <label>\n            <input data-ref="slideCheck" type="checkbox" checked hidden>\n            <span>').concat(t.getString("slide_text_chk"),'</span>\n          </label>\n          <hr class="cs-div cs-diva" />\n        </div>\n        <div class="search-results is-scrollable" tabindex="0" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n        <hr class="cs-diva diva full-width-hr" />\n        <hr class="cs-divb divb full-width-hr" />\n        <button data-ref="clear" class="btn search-clear cs-button flex-static-auto" tabindex="0">\n          ').concat(oo("clear")(),"\n          <span>").concat(t.getString("clear"),"</span>\n        </button>\n      </span>\n    ")}}));function Ea(e){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(e)}function xa(e){return function(e){if(Array.isArray(e))return Ta(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function La(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ea(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ea(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ea(o)?o:String(o)),i)}var r,o}function Pa(){return Pa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ia(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Pa.apply(this,arguments)}function _a(e,t){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_a(e,t)}function ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ia(e);if(t){var r=Ia(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Da(e)}(this,n)}}function Da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ia(e){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ia(e)}var Aa=DS,Ra=Aa.detection,Ba=Aa.pubSub,Ma=Aa._,Ha=Aa.events,Na=Aa.keyManager,Fa=Aa.resolver,Va=Aa.windowManager,Wa=Aa.utils.prefixWithPlayer,Ua=Aa.focusManager.setFocusRectOn,za=Aa.globalEventHelper.addDocumentListener,Ka=Aa.dom,Ga=Ka.parentNodesOf,qa=Ka.getParentWithClass,Za=Ka.hasClass,Qa=Ka.addClass,Ya=Ka.removeClass,Xa=function(e){return Ga(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},$a=function(e){return Xa(e).slice(1).some((function(e){return Za(e,"item-collapsed")}))},Ja=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_a(e,t)}(a,e);var n,i,r,o=ja(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),Ma.bindAll(Da(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.completedScenes=new Set,t.menuOptions=$.model.frame.controlOptions.menuOptions,Ba.once(Ha.resume.SET_DATA,t.updateVisitedSlides),Ba.on(Ha.window.MAIN_CHANGED,t.onSlideChanged),Ba.on(Ha.mobile.OUTLINE_SHOWN,t.centerOnFocused),Ba.on(Ha.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=Ma.flow(za("mousedown",t.mouseDown),za("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=$.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&Ba.on(Ha.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Da(t))),Ba.on(Ha.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&Qa(n,"cs-selected")}else t.view.updateHtml(),t.view.update()})),t}return n=a,i=[{key:"teardown",value:function(){Ba.off(Ha.window.MAIN_CHANGED,this.onSlideChanged),Ba.off(Ha.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&Ra.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&Pa(Ia(a.prototype),"onFocus",e).call(e)}),500):Pa(Ia(a.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if(Ra.theme.isUnified){var n=qa(e.target,"listitem");Za(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&Za(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!Za(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&(Ra.theme.isUnified?e.updateViewedState(n.el):Qa(n.el,"cs-viewed"))})),Ra.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(e);Array.from(i).forEach((function(e){var i=Array.from(e.parentNode.querySelectorAll("div")).slice(n);i.length&&i.every((function(e){return Za(e,"cs-viewed")}))&&(Qa(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{(r+=1)===i.length&&(r=0),t=i[r]}while($a(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(r-=1)&&(r=i.length-1),t=i[r]}while($a(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t),this.addSceneCompleted(e,n)}},{key:"addSceneCompleted",value:function(e,t){var n,i;n=e.collection.models.map((function(e){return e.absoluteId})),i=xa(this.visitedSlides),n.every((function(e){return i.includes(e)}))&&this.completedScenes.add(t)}},{key:"isSceneCompleted",value:function(e){return this.completedScenes.has(e)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||qa(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var i=e.getSlideDraw();null!=i&&(t=i.absoluteId,n=this.view.children[t])}if(null!=n&&this.selectLink(n.el,t),null==n){var r,o=e.getScene().absoluteId,a=null===(r=this.view.children[o])||void 0===r?void 0:r.el,l=this.el.querySelector(".cs-selected");if(null!=l&&Ya(l,"cs-selected"),null==a)return;var c=Xa(a)[0];null==c||Za(c,"item-collapsible")||Qa(a,"cs-selected"),this.isSceneCompleted(o)&&Qa(a,"cs-complete"),this.updateViewedState(a)}}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),Ga(e,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||(Ya(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return Ga(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||Za(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=Za(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),Ra.theme.isUnified){var i=Array.from(e.querySelectorAll("div.listitem")),r=i[0];!function(e,t){if(!n){var i=e.slice(1).filter((function(e){return!Za(e,"is-promoted-slide")&&!Za(e,"is-scene")}));i.some((function(e){return Za(e,"cs-viewed")}))&&Ya(t,"cs-unvisited"),i.every((function(e){return Za(e,"cs-viewed")}))&&Qa(t,"cs-complete")}}(i,r),this.updateAriaLabel(r)}Ba.trigger(Ha.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t,n,i=[].slice.call(null!==(t=null===(n=e.querySelector(".outline-states"))||void 0===n?void 0:n.children)&&void 0!==t?t:[]),r=e.getAttribute("data-slide-title"),o=e.children[0];null!=o&&(i.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return o.textContent=r+" "+t,!0}return!1}))||(o.textContent=r))}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=qa(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if(Ra.theme.isUnified){var i=e.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,Ya(this.currentItem,"hover")),this.currentItem=e,r&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&(Qa(t,"cs-viewed"),n.updateAriaLabel(t))}))),Za(e,"listitem")){this.updateViewedState(e);var o=this.el.querySelector(".cs-selected"),a=Xa(e).pop();Za(e,"is-scene")&&Za(a,"item-collapsible")||(null!=o&&(Ya(o,"cs-selected"),this.updateAriaLabel(o)),Qa(e,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(e)})))}else this.onCarrotClick(e);if(r&&!t){var l=Va.getCurrentWindowSlide().absoluteId;i!=l&&(Ba.trigger(Ha.request.NEXT_SLIDE,i),Ra.theme.isUnified&&Ba.trigger(Ha.topEllipsesPanel.HIDE)),Ra.deviceView.isMobile&&(Ba.trigger(Ha.tab.HIDE),(Ra.deviceView.isPhone||Ra.theme.isClassic)&&Ba.trigger(Ha.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Ua(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,n){var i=e.getAttribute("data-ref"),r=null!=i,o=t(i);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||n||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,Ya(this.currentItem,"hover")),this.currentItem=e,(o||Za(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&Qa(t,"cs-viewed")}))),Za(e,"listitem")){Qa(e,"cs-viewed");var a=this.el.querySelector(".cs-selected");null!=a&&Ya(a,"cs-selected"),Qa(e,"cs-selected")}else this.onCarrotClick(e);if(r&&!n){var l=Va.getCurrentWindowSlide().absoluteId;i!=l&&(Ba.trigger(Ha.request.NEXT_SLIDE,i),Ra.theme.isUnified&&Ba.trigger(Ha.topEllipsesPanel.HIDE)),Ra.deviceView.isMobile&&(Ba.trigger(Ha.tab.HIDE),(Ra.deviceView.isPhone||Ra.theme.isClassic)&&Ba.trigger(Ha.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Ua(this.currentItem)}else Za(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){Qa(e,"cs-viewed");var t=Xa(e).pop();if(null!=t){if(!Za(e,"is-scene")||!Za(t,"item-collapsible")){var n=t.querySelector("div.listitem");Ya(n,"cs-unvisited")}Za(e,"is-scene")&&this.isSceneCompleted(e.getAttribute("data-ref"))&&Qa(e,"cs-complete")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&Za(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(Na.isActionKey(e.which))this.activateItem(),Na.isSpaceKey(e.which)&&e.preventDefault();else if(Na.isRightKey(e.which)&&t.dataset.hasLinks)Za(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(Na.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(Na.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(Na.isLeftKey(e.which))if(t.dataset.hasLinks&&!Za(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=qa(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else Na.isHomeKey(e.which)?this.currentItem=this.getFirstItem():Na.isEndKey(e.which)&&(this.currentItem=this.getLastItem());t!==this.currentItem&&(e.preventDefault(),Ya(t,"hover"),t.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,Qa(this.currentItem,"hover"),this.currentItem.parentNode.focus()),Ua(this.currentItem)}},{key:"hasListItems",value:function(){return!Ma.isEmpty($.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||xa(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return Ra.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return Ra.deviceView.isMobile?Ma.first(Ga(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:Pa(Ia(a.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;Ra.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),Pa(Ia(a.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,i=t.links,r=Fa.resolvePath(Wa(n.drawid)),o=function(){var t=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,t].concat(xa(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};r.on(Ha.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],i&&La(n.prototype,i),r&&La(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(Ao),el=Ja,tl="rtl",nl=function(){return $.model.rtl?tl:""},il=function(e){$.model.rtl&&!e.contains(tl)?e.add(tl):!$.model.rtl&&e.contains(tl)&&e.remove(tl)},rl=DS.utils,ol=rl.scaleVal,al=rl.pxify,ll="outline",cl=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},sl=$.def(ll,el,(function(){var e=$.model;return{tag:"nav",attrs:{id:ll+"-content",class:"is-scrollable cs-outline ".concat(nl()),tabindex:-1},w:"100%",h:function(){var e=this.parent,t=e.h,n=e.children.search;return t-(null!=n&&n.visible?48:0)},overflow:"auto",draws:[],html:function(){var n=this,i=e.frame.navData.outline.links||[],r=e.frame.controlOptions.menuOptions,o=r.wrapListItems,a=r.autonumber,l=r.tooltips;this.el.depth=0;var c=this.el;return c.innerHTML="",function i(r,c,s){var u=document.createElement("ul");u.depth=c.depth+1,u.tabIndex=-1,null!=s?(u.setAttribute("aria-labelledby",c.firstElementChild.id),u.setAttribute("role","group")):(u.setAttribute("aria-label",e.getString("outline")),u.setAttribute("role","tree")),c.appendChild(u);for(var f=0,d=r.length;f<d;f++){var h=document.createElement("li"),p=r[f];p.parent=s,p.index=f,h.depth=u.depth,h.tabIndex=1===h.depth&&0===f?0:-1,h.setAttribute("role","treeitem"),u.appendChild(h);var y=null!=p.links,v=15*h.depth+3.1,b=v-18,m=p.slideid||p.emptySceneId;null==m&&n.draws.push({link:p,links:r,i:f});var g=t(m),w=e.rtl;h.innerHTML='\n            <div\n              id="outline-'.concat(h.depth,"-").concat(f,'"\n              class="cs-listitem listitem ').concat(o?"":"no-wrap"," ").concat(g?"is-scene":"",'"\n              data-origpad="').concat(v,'"\n              data-ref="').concat(m,'"\n              data-slide-title="').concat(r[f].displaytext,'"\n              ').concat(g?'data-is-scene="true"':"","\n              ").concat(y?'data-has-links="true"':"",'\n              tabIndex="-1"\n              title="').concat(l?p.displaytext:"",'"\n              >\n               ').concat(y?oo("carrot")(w?"94% - ".concat(b,"px"):"".concat(b,"px")):"","\n               ").concat(a?cl(p):""," ").concat(p.displaytext,"\n            </div>\n          "),y&&(h.setAttribute("aria-expanded",p.expand),h.classList.add("item-collapsible"),p.expand||h.classList.add("item-collapsed"),i(p.links,h,p))}}(i,c),c.innerHTML},updateHook:function(){_.toArray(this.el.querySelectorAll(".listitem")).forEach((function(t){var n=parseFloat(t.getAttribute("data-origpad"));t.dataset.isScene&&(n+=2),t.style[e.rtl?"paddingRight":"paddingLeft"]=al(ol(n)),t.style.marginBottom=al(ol(1))})),il(this.el.classList)}}}));function ul(e){return function(e){if(Array.isArray(e))return fl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dl="outlineSearch",hl=$.def(dl,Nr,(function(){var e=$.model.frame,t=e.controlOptions.controls.search||DS.presentation.isPreview()&&!window.globals.HAS_SLIDE;return{attrs:{id:"".concat(dl,"-content"),class:"outline-search ".concat(nl()),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},model:e,childViews:[].concat(ul(t?[uo,Ca]:[]),[sl]),updateHook:function(){this.children.forEach((function(e){return e.update()})),il(this.el.classList)}}}));function pl(e){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(e)}function yl(e){return function(e){if(Array.isArray(e))return vl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,kl(i.key),i)}}function ml(e,t){return ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ml(e,t)}function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Sl(e);if(t){var r=Sl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===pl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wl(e)}(this,n)}}function wl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sl(e){return Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sl(e)}function kl(e){var t=function(e,t){if("object"!==pl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==pl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pl(t)?t:String(t)}var Ol=DS,Cl=(Ol._,Ol.focusManager),El=Ol.detection,xl=Ol.pubSub,Tl=Ol.events,Ll=Ol.dom,Pl=Ll.addClass,_l=Ll.removeClass,jl=(Ol.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ml(e,t)}(o,e);var t,n,i,r=gl(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=wl(t),a=void 0,(i=kl(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=El.deviceView.isDesktop&&!t.view.isUnified,xl.on(Tl.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&xl.on(Tl.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(wl(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||yl(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){Pl(e,"cs-selected"),e.nextElementSibling.style.display="block",Pl(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;_l(e,"cs-selected"),_l(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",Cl.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=yl(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&bl(t.prototype,n),i&&bl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ao));function Dl(e){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(e)}function Il(e){return function(e){if(Array.isArray(e))return Al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Al(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Rl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Dl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Dl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Dl(o)?o:String(o)),i)}var r,o}function Bl(e,t){return Bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bl(e,t)}function Ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nl(e);if(t){var r=Nl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hl(e)}(this,n)}}function Hl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nl(e)}var Fl=DS,Vl=(Fl.detection,Fl.pubSub),Wl=Fl.events,Ul=Fl.keyManager.isSpaceKey,zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bl(e,t)}(o,e);var t,n,i,r=Ml(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Vl.on(Wl.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&Vl.on(Wl.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Hl(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||Il(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){Ul(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Rl(t.prototype,n),i&&Rl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jl),Kl=DS.utils,Gl=Kl.getPath,ql=Kl.pxify,Zl=Kl.scaleVal,Ql="resources",Yl=$.def(Ql,zl,(function(){var e=$.model.frame;return{attrs:{id:"".concat(Ql,"-content"),class:"cs-resource ".concat(nl()," is-scrollable"),tabindex:-1,"aria-labelledby":"resources-head"},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},overflow:"",model:e,html:function(){return'\n      <h4 class="resources-title cs-heading panel-section-heading html-reset" tabindex="-1" id="resources-head" data-ref="head">\n        '.concat(Gl(e,"resourceData.description"),'\n      </h4>\n      <hr class="cs-separator"></hr>\n      <div class="resources-content panel-content" data-ref="content">\n        <ul>\n          ').concat(Gl(e,"resourceData.resources",[]).reduce((function(e,t,n){var i="javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })");return"".concat(e,'\n              <li class="cs-listitem resource" tabindex="-1"\n                data-url="').concat(t.url,'"\n                id="resource-').concat(n,'"\n                role="presentation">\n                  <a href="').concat(i,'" data-url="').concat(t.url,'" tabindex="').concat(0===n?0:-1,'">\n                    <img src="').concat(t.image,'" role="presentation" tabindex="-1" />\n                    ').concat(t.title,"\n                  </a>\n              </li>")}),""),"\n        </ul>\n      </div>")},updateHook:function(){var e=this.children.head.el.querySelector("font");null!=e&&(this.origSize=this.origSize||parseFloat(e.style.fontSize),e.style.fontSize=ql(Zl(this.origSize,!1))),il(this.el.classList)}}})),Xl=DS.utils.getPath,$l="glossary",Jl=$.def($l,jl,(function(){var e=$.model,t=$.getCurrentNameSpaceString(),n=function(e){return me.getColor(t,".cs-glossary .cs-div".concat(e),"border-color")},i=n("a"),r=n("b"),o=n("c"),a="box-shadow: 0 -1px 0 0 ".concat(o,", 0 -2px 0 0 ").concat(r,", 0 1px 0 0 ").concat(i),l=me.getColor(t,".cs-glossary .cs-term.cs-selected .cs-choice-list-trigger","background"),c=me.getColor(t,".cs-glossary .cs-term .cs-choice-list-trigger:focus","background");return{attrs:{id:"".concat($l,"-content"),class:"cs-glossary ".concat(nl()),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},selectedColor:l,hoverColor:c,model:e,html:function(){return'<h4 class="panel-section-heading glossary-title cs-heading" style="'.concat(a,'" tabindex="-1">\n        ').concat(e.getString("terms"),'\n      </h4>\n\n      <div data-ref="terms" class="glossary-content cs-scrolling-panel scrolling-panel">\n        ').concat(Xl(e,"frame.glossaryData",[]).map((function(e,t){var n=e.content.split(/\r\n/g).filter((function(e){return e.trim().length>0}));return'\n            <dt class="term cs-term"  tabindex="'.concat(0===t?0:-1,'" id="term-').concat(t,'">\n              <button\n                class="cs-choice-list-trigger"\n                aria-controls="term-').concat(t,'"\n                aria-expanded="false"\n                tabindex="-1"\n              >\n                  ').concat(e.title,'\n              </button>\n            </dt>\n            <dd class="cs-editor definition"  tabindex="-1" id="term-').concat(t,'" style="display: none">\n              ').concat(n.map((function(e){return'<p class="term" tabindex="-1">'.concat(e,"</p>")})).join(""),"\n            </dd>\n          ")})).join(""),"\n      </div>")},updateHook:function(){il(this.el.classList)}}}));function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ec(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ec(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ec(o)?o:String(o)),i)}var r,o}function nc(e,t){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nc(e,t)}function ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=oc(e);if(t){var r=oc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ec(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rc(e)}(this,n)}}function rc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}var ac=/color:#ffffff/gi,lc=DS,cc=lc.detection,sc=lc.events,uc=lc.focusManager,fc=lc.pubSub,dc=(lc.utils,lc.slideObjectUtils),hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nc(e,t)}(o,e);var t,n,i,r=ic(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),fc.on(sc.window.MAIN_CHANGED,t.onSlideChanged.bind(rc(t))),DS.flagManager.localizationPlatform&&fc.on(sc.transcript.REFRESH_VIEW,t.onRefreshView.bind(rc(t))),cc.deviceView.isClassicMobile?fc.on(sc.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(rc(t),!1)):cc.deviceView.isUnifiedMobile&&fc.on(sc.hamburger.TOGGLE,t.onHamburgerToggle.bind(rc(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),uc.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;cc.deviceView.isClassicMobile&&(n=n.replace(ac,"color:#515557")),this.contentEl.innerHTML=n,fc.trigger(sc.transcript.CHANGED),dc.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){cc.deviceView.isDesktop?this.view.el.scrollTop=0:cc.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:$.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return cc.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){fc.off(sc.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&fc.off(sc.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),cc.deviceView.isClassicMobile?fc.off(sc.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):cc.deviceView.isUnifiedMobile&&fc.off(sc.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&tc(t.prototype,n),i&&tc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),pc="transcript",yc=DS.utils,vc=yc.pxify,bc=yc.scaleVal,mc="data-origsize",gc="data-origline",wc={outline:hl,resources:Yl,glossary:Jl,transcript:$.def(pc,hc,(function(){var e=$.model,t=e.rtl?"rtl":"";return{attrs:{id:pc+"-content",class:"cs-transcript ".concat(t," is-scrollable"),tabindex:0},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return(this.parent.childHeight||this.parent.h)-bt},overflow:"",html:"\n      <h4 data-ref=\"title\" class='note-title cs-heading panel-section-heading'></h4>\n      <hr class='cs-div'></hr>\n      <div data-ref=\"content\" class='note-content'></div>\n    ",updateHook:function(){if("no scale"!==window.globals.scale){var e=this.children.content.el.querySelectorAll("span[style]");_.forEach(e,(function(e){var t=parseFloat(e.getAttribute(mc)),n=parseFloat(e.getAttribute(gc));isNaN(t)&&(t=parseFloat(e.style.fontSize),e.setAttribute(mc,t),n=parseFloat(e.style.lineHeight),e.setAttribute(gc,n)),e.style.fontSize=vc(bc(t,!1)),e.style.lineHeight=vc(bc(n,!1))}))}},model:e.frame}}))},Sc=DS.utils,kc=Sc.getPath,Oc=(Sc.scaleVal,DS.constants.refs.FRAME),Cc="sidebarPanels",Ec=($.def(Cc,(function(e){var t=$.getNamespace(e),n=t.sidebar,i=t.tabs,r=t.logo;return{attrs:{id:Cc},x:9,z:1,y:function(){return i.bottom()},w:function(){return n.w-mt},h:function(){var e=r?r.h+bt:0;return n.h-mt-i.h-e},childDef:function(){Ec($.model,e)},updateHook:function(){this.children.forEach((function(e){return e.update()}))}}})),function(e,t){kc(e,"sidebarTabs",[]).forEach((function(e,n){!function(e,t,n,i){var r=t.name,o=r+"Panel",a=0===n,l=$.def(o,jr,{attrs:{id:o,class:"cs-menu cs-panel is-scrollable panel","aria-labelledby":r+"-tab",role:"tabpanel",tabindex:-1},visibility:"no-reflow",style:{display:a},x:0,y:0,overflow:function(){return null},w:"100%",h:"100%",html:"",updateHook:function(){this.children.forEach((function(e){return e.update()}))}});l.init(),$.getNamespace(Oc).sidebarPanels.append(l);var c=wc[r];null!=c&&(c.nameSpace=i,c.init(),l.append(c))}(0,e,n,t)}))}),xc="topTabs";function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}function Lc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Tc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Tc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Tc(o)?o:String(o)),i)}var r,o}function Pc(e,t){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pc(e,t)}function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jc(e);if(t){var r=jc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Tc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function jc(e){return jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jc(e)}$.def(xc,(function(){return{attrs:{id:xc,role:"navigation"},overflow:"visible",w:"100%",h:"100%"}}));var Dc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pc(e,t)}(o,e);var t,n,i,r=_c(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(){var e=this,t=this.model.properties.data;DS.pubSub.trigger(DS.events.customlink.EVENT,t),this.view.parent.children.forEach((function(t){t.viewLogic!==e&&t.viewLogic.showing&&t.viewLogic.hidePanel()}))}},{key:"isLive",value:function(){return!0}}])&&Lc(t.prototype,n),i&&Lc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function Ic(e){return Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(e)}function Ac(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ic(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ic(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ic(o)?o:String(o)),i)}var r,o}function Rc(){return Rc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Rc.apply(this,arguments)}function Bc(e,t){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bc(e,t)}function Mc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nc(e);if(t){var r=Nc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ic(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hc(e)}(this,n)}}function Hc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nc(e){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nc(e)}var Fc=DS.dom.isWithin,Vc=DS.globalEventHelper,Wc=Vc.addDocumentListener,Uc=Vc.removeDocumentListener,zc=DS,Kc=zc.pubSub,Gc=zc.events,qc=zc._,Zc=zc.playerGlobals,Qc=zc.dom,Yc=Qc.addClass,Xc=Qc.removeClass,$c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bc(e,t)}(o,e);var t,n,i,r=Mc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),qc.bindAll(Hc(t),"hidePanel","onCheckShouldHide"),t.onClick(t.onClickLink),t.showing=!1,Kc.on(Gc.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(Hc(t))),DS.flagManager.localizationPlatform&&Kc.on(Gc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Hc(t))),t}return t=o,n=[{key:"onShowTabItem",value:function(e){this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel(!0)}},{key:"onActiveTabSet",value:function(e){this.view.parent.children.find((function(t){return t.nameKey.includes(e)}))&&this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel()}},{key:"onClickLink",value:function(e){this.showing?this.hidePanel():this.showPanel()}},{key:"showPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.translationShown=e,this.el.style.border="1px solid ".concat(this.view.selectedBorderColor),this.el.setAttribute("aria-expanded",!0),Yc(this.el,"cs-selected"),Yc(this.el,"active"),this.view.panel.el.style.display="block",this.view.panel.viewLogic.focusChild(),Wc("mouseup",this.onCheckShouldHide),Kc.on(Gc.controlLayout.CHANGED,this.hidePanel),this.showing=!0}},{key:"hidePanel",value:function(){this.translationShown=!1,this.el.style.border="1px solid rgba(0, 0, 0, 0)",this.el.setAttribute("aria-expanded",!1),Xc(this.el,"cs-selected"),Xc(this.el,"active"),this.view.panel.el.style.display="none",Uc("mouseup",this.onCheckShouldHide),Kc.off(Gc.controlLayout.CHANGED,this.hidePanel),this.showing=!1}},{key:"onBlur",value:function(e){Zc.presentation.isPreview()&&!window.globals.HAS_SLIDE||this.onCheckShouldHide({target:e.relatedTarget}),Rc(Nc(o.prototype),"onBlur",this).call(this,e)}},{key:"onCheckShouldHide",value:function(e){null!=e.target&&(Fc(e.target,"panel")||this.el.contains(e.target))||this.hidePanel()}},{key:"isLive",value:function(){var e=$.model.currControlLayout[this.model.name];return qc.isObject(e)?e.enabled:e}},{key:"teardown",value:function(){Kc.off(Gc.controlLayout.CHANGED,this.hidePanel),Kc.off(Gc.sidebar.ACTIVE_TAB_SET)}}],n&&Ac(t.prototype,n),i&&Ac(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Jc=$c,es=DS.utils.getPath,ts=DS.constants.refs.FRAME,ns="separator-style",is=function(){return"\n    .top-tab:before {\n      box-shadow: 0px 0px 0px 1px ".concat(me.getColor(DS.constants.refs.FRAME,".cs-separator .cs-diva","background-color",".cs-base"),",\n        1px 0px 0px 1px ").concat(me.getColor(DS.constants.refs.FRAME,".cs-separator .cs-divb","background-color",".cs-base"),";\n    }\n  ")},rs=!1,os=function(e){var t,n=e.id,i=$.def(n,(function(i){$.getNamespace(i).title,$.model;return t=n,{attrs:{id:n,tabindex:-1},overflow:"visible",w:"50%",x:e.x,y:0,h:"100%",z:5,childDef:function(){!function(){if(!rs){rs=!0;var e=document.createElement("style");e.id=ns,document.body.appendChild(e),e.innerHTML=is()}}(),o($.model,i)},updateHook:e.updateHook}})),r=function(n,r,o,a){var l,c,s,u,f="customlink"===o.name;f?(c=Dc,l=o.properties.title,s="link".concat(e.dir).concat(a),u="custom-link"):(c=Jc,l=r.getString(o.name),s=o.name+"Link",u="panel-link");var d=me.getColor(n,".cs-topmenu-item.active .cs-tab","border-top-color",".cs-base"),h={id:s,class:"topmenu-item cs-topmenu-item cs-tabs top-tab ".concat(u),tabindex:0};f||(h["aria-controls"]="".concat(s,"Panel"),h["aria-expanded"]=!1);var p=$.def(s,c,{selectedBorderColor:d,attrs:h,model:Object.assign(o,{idx:a}),isTopLink:!0,calcTextSize:!0,noUpdate:!0,contentStyle:{top:"8%"},tag:"button",html:function(){return'<span class="cs-tab">'.concat(l,"</span>")},wPad:14,overflow:"visible",y:function(){return this.parent.h-this.h-9},w:"fit-to-text-w",h:"fit-to-text-h",z:2,border:"1px solid rgba(0, 0, 0, 0)",minH:23,updateHook:function(){if(_.isFunction(this.viewLogic.scaleProps)&&this.viewLogic.scaleProps(),DS.playerGlobals.presentation.isPreview()&&!window.globals.HAS_SLIDE){var e=document.querySelector("style#".concat(ns));null!=e&&(e.innerHTML=is())}}});p.init(),$.getNamespace(ts)[e.id].append(p),f||function(n,r,o,a){var l=a.name+"Panel",c="linksRight"===e.id,s=$.getNamespace(n),u=s.topBar,f=(s.frame,s.sidebar,s.slide,s.wrapper,s.linksLeft,me.getColor(n,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base")),d=$.def(l,jr,{attrs:{id:l,class:"cs-topmenu-item topmenu-item active cs-menu cs-panel panel topmenu-panel-align-".concat(c?"right":"left"),tabIndex:-1},style:{borderColor:f},w:302,h:438,z:1,visible:!1,lnk:r,childWidth:300,childHeight:436,tabsId:t,overflow:"visible",x:function(){var e=r.x;return e+i.x>u.w/2&&(e=e+r.w-this.w),e},y:function(){return r.y+r.h},updateHook:function(){this.updateChildren(!0)}});d.init(),$.getNamespace(ts)[e.id].append(d),r.panel=d;var h=wc[a.name];null!=h&&(h.init(),d.append(h))}(n,p,0,o)},o=function(t,n){es(t,e.linkListName,[]).forEach((function(e,i){r(n,t,e,i)}))}};os({id:"linksLeft",dir:"Left",linkListName:"topTabsLeft",x:0,updateHook:function(){this.flowChildren({hook:function(e){null!=e.panel&&e.panel.update()},pad:-3,startPos:11})}});os({id:"linksRight",dir:"Right",linkListName:"topTabsRight",x:function(){return $.getNamespace(DS.constants.refs.FRAME).linksLeft.right()},updateHook:function(){this.flowChildren({toLeft:!0,startPos:null!=this.nameSpace?$.getNamespace(this.nameSpace).linksRight.w-2:0,pad:-3,reverse:!0,hook:function(e){null!=e.panel&&e.panel.update()}})}});var as="bottomBar";$.def(as,(function(e){var t=$.getNamespace(e),n=t.frame,i=t.topBar,r=$.model.rtl;return{tag:"section",attrs:{id:as},x:function(){return i.x-1},y:function(){return n.h-54},w:function(){return i.w},h:gt,overflow:"visible",updateHook:function(){if(this.hasAllChildren()){this.updateChildren(),this.el.style.pointerEvents=$.model.bottomBarOpts.bottomBarEnabled?"all":"none";var e=this.children.playbackControls.children.seek;if(e.width=0,this.children.playbackControls.visible&&e.visible){var t=this.calcChildrensWidth()+(this.children.length+1)*bt;e.width=i.w-t}this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},rtl:r,pad:bt})}},childVisibilityChangedHook:function(){this.update()}}}));var ls="navControls";$.def(ls,(function(){var e=$.model.rtl;return{tag:"nav",attrs:{id:ls,"aria-label":"slide navigation"},w:function(){return this.width||0},overflow:"visible",h:gt,updateHook:function(){this.flowChildren({rtl:e,startPos:-10,pad:bt,fullUpdate:!0,sizeToChildren:!0})},parentAlign:e?"l":"r"}}));var cs="miscControls";function ss(e){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(e)}function us(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ss(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ss(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ss(o)?o:String(o)),i)}var r,o}$.def(cs,(function(){var e=$.model.rtl;return{attrs:{id:cs,"aria-label":"misc controls",role:"region"},w:function(){return this.width||0},h:gt,overflow:"visible",updateHook:function(){this.flowChildren({fullUpdate:!0,pad:bt,startPos:-10,sizeToChildren:!0,rtl:e})},childVisibilityChangedHook:function(){this.update()},parentAlign:"l"}}));var fs=DS,ds=fs._,hs=fs.pubSub,ps=fs.events,ys=fs.dom.toggleClasses,vs=(fs.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,ds.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),hs.on(ps.slide.STARTED,this.onSlideChanged)}var t,n,i;return t=e,(n=[{key:"teardown",value:function(){hs.off(ps.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(hs.trigger(ps.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(ps.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(ps.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(ps.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(ps.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(ps.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(ps.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();ys(document.body,"timeline-playing","timeline-paused",i),ys(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(ps.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(ps.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&us(t.prototype,n),i&&us(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),bs="playbackControls";function ms(e){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(e)}function gs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Es(i.key),i)}}function ws(){return ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cs(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ws.apply(this,arguments)}function Ss(e,t){return Ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ss(e,t)}function ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Cs(e);if(t){var r=Cs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Os(e)}(this,n)}}function Os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cs(e)}function Es(e){var t=function(e,t){if("object"!==ms(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ms(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ms(t)?t:String(t)}$.def(bs,vs,(function(e){return{attrs:{id:bs,"aria-label":"playback controls",class:"cs-seekcontrol",tabindex:-1},visibility:"no-reflow",x:0,w:function(){return this.visible&&this.width||0},h:gt,noUpdate:!0,updateHook:function(){this.el.style.background="none",this.flowChildren({fullUpdate:!0,sizeToChildren:!0})},parentAlign:"l"}}));var xs=DS,Ts=xs._,Ls=xs.utils,Ps=xs.pubSub,_s=xs.events,js=xs.constants,Ds=xs.keyManager,Is=xs.focusManager,As=xs.dom,Rs=xs.dom,Bs=Rs.addClass,Ms=Rs.removeClass,Hs=xs.globalEventHelper,Ns=Hs.addBodyListener,Fs=Hs.removeBodyListener,Vs=xs.appState,Ws=10,Us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ss(e,t)}(o,e);var t,n,i,r=ks(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Os(t),a=!0,(i=Es(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.isOpen=!1,t.view.volumeStrength=js.DEFAULT_VOLUME*Ws,Ts.bindAll(Os(t),"onShow","onHide","onVolumeChanged","onInputChanged","toggleMute","onKeydown","onScroll"),t.volumeRangeEl.addEventListener("input",t.onInputChanged),t.el.addEventListener("mouseover",t.onShow),t.el.addEventListener("scroll",t.onScroll),t.buttonEl.addEventListener("click",t.toggleMute),Ps.on(_s.volume.CHANGED,t.onVolumeChanged),Vs.setVolume(t.view.volumeStrength/Ws),t}return t=o,(n=[{key:"tooltipKey",get:function(){return Vs.getVolume()>0?"acc_mute":"acc_unmute"}},{key:"onVolumeChanged",value:function(e){e=Ls.clamp(0,Ws,e*Ws),this.view.volumeStrength=e,this.view.updateButton();var t=0===e;this.buttonEl.setAttribute("aria-pressed",t),this.volumeRangeEl.valueAsNumber!==e&&(this.volumeRangeEl.value=e)}},{key:"onHide",value:function(e){var t=this;setTimeout((function(){var e=document.elementFromPoint(As.mouseX,As.mouseY);t.el.contains(e)||"tooltip"===e.id||(t.isOpen=!1,Ms(t.el,"open"),t.view.el.removeEventListener("mouseleave",t.onHide),Fs("keydown",t.onKeydown),t.view.update())}),200)}},{key:"onShow",value:function(){this.isOpen||(this.isOpen=!0,Bs(this.el,"open"),this.view.el.addEventListener("mouseleave",this.onHide),Ns("keydown",this.onKeydown),this.view.update())}},{key:"onInputChanged",value:function(e){var t=e.target.valueAsNumber;Vs.setVolume(t/Ws)}},{key:"toggleMute",value:function(e){Vs.onToggleVolume()}},{key:"onFocus",value:function(e){this.onShow(),this.onHoverIn(e),Is.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.onHoverOut(e),this.onHide(),ws(Cs(o.prototype),"onBlur",this).call(this))}},{key:"onKeydown",value:function(e){var t=e.which,n=this.volumeRangeEl.valueAsNumber,i=function(t){Vs.setVolume(t/Ws),e.preventDefault()};document.activeElement!==this.volumeRangeEl&&(Ds.isDownishKey(t)||Ds.isPageDownKey(t)?i(n-1):Ds.isUpishKey(t)||Ds.isPageUpKey(t)?i(n+1):Ds.isEndKey(t)?i(Ws):Ds.isHomeKey(t)&&(this.previousVolume=n,i(0)))}},{key:"onScroll",value:function(e){e.target.scrollTop=0}},{key:"dismissTooltip",value:function(){ws(Cs(o.prototype),"dismissTooltip",this).call(this),this.onHide()}},{key:"teardown",value:function(){Ps.off(_s.volume.CHANGED,this.onVolumeChanged)}}])&&gs(t.prototype,n),i&&gs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),zs="volume",Ks=DS,Gs=(Ks.scaler,Ks.utils),qs=Gs.pxify,Zs=Gs.scaleVal;function Qs(e){return Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(e)}function Ys(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,iu(i.key),i)}}function Xs(){return Xs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tu(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Xs.apply(this,arguments)}function $s(e,t){return $s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$s(e,t)}function Js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tu(e);if(t){var r=tu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Qs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,n)}}function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tu(e)}function nu(e,t,n){return(t=iu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iu(e){var t=function(e,t){if("object"!==Qs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Qs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qs(t)?t:String(t)}$.def(zs,Us,(function(e){var t=$.model;$.model.rtl;return{noUpdate:!0,z:1e3,attrs:{id:zs,class:"btn cs-volume cs-button volume-panel"},style:{position:"absolute"},w:31,h:function(){return this.viewLogic.isOpen?106:30},y:function(){return this.el.style.top=qs(Zs(this.viewLogic.isOpen?-68:8,!1)),0},html:function(){return'<button\n      data-ref="button"\n      class="cs-button btn"\n      aria-label="'.concat(t.getString("acc_volume"),'"\n      aria-pressed="false"\n      tabIndex="0"\n      >\n      ').concat(oo("volume")(this.volumeStrength,Zs(15),Zs(20)),'\n      </button>\n      <div data-ref="sliderBar" class="slider-bar">\n        <input\n          type="range"\n          class="cs-volume"\n          data-ref="volumeRange"\n          aria-label="').concat(t.getString("acc_volume"),'"\n          min="0"\n          max="10"\n          step="1"\n          value="').concat(this.volumeStrength,'"\n          tabIndex="0"\n          aria-orientation="vertical" />\n      </div>')},updateHook:function(){var e=this.el.querySelector("svg");null!=e&&(e.height.baseVal.value=Zs(20),e.width.baseVal.value=Zs(15))},methods:{updateButton:function(){this.children.button.el.innerHTML=oo("volume")(this.volumeStrength,Zs(15),Zs(20)),this.el.style.background=this.accessibleTextOn?"#777":""}}}}));var ru=DS,ou=ru.dom,au=ou.addClass,lu=ou.removeClass,cu=ru.appState,su=ru.scaler,uu=ru.shortcutManager,fu=ru.events,du=ru.focusManager,hu=ru.pubSub,pu=ru.keyManager,yu=ru.utils.fullScreen,vu=ru.globalEventHelper.addDocumentListener,bu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$s(e,t)}(o,e);var t,n,i,r=Js(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),nu(eu(t=r.call(this,e)),"hasTooltip",!0),nu(eu(t),"tooltipKey","acc_settings"),nu(eu(t),"hideTooltipWhenOpen",!0),nu(eu(t),"onToggleBackgroundAudio",(function(){hu.trigger(fu.backgroundAudio.TOGGLE)})),nu(eu(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),nu(eu(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(eu(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(fu.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),hu.on(fu.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),cu.on(fu.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),hu.on(fu.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(eu(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=yu.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),hu.on(fu.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){cu.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){yu.getEl()===cu.getPresoEl()?au(this.el,"full-screen"):lu(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,au(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=vu("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,lu(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){pu.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),du.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),Xs(tu(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(au(e,"toggle-on"),lu(e,"toggle-off")):(au(e,"toggle-off"),lu(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),cu.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,su.zoomMode)}},{key:"toggleZoomMode",value:function(){su.enableZoomMode(!su.zoomMode),this.updateToggle(this.zoomSwitchEl,su.zoomMode),du.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){uu.enableShortcuts(!uu.enabled),this.updateToggle(this.shortcutsSwitchEl,uu.enabled)}},{key:"toggleCaptions",value:function(){$.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){$.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){cu.off(fu.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),hu.off(fu.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),hu.off(fu.captions.ENABLED,this.onCaptionsEnabled),hu.off(fu.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return du.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&Ys(t.prototype,n),i&&Ys(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function mu(e){return function(e){if(Array.isArray(e))return gu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var wu=DS,Su=wu.utils,ku=Su.pxify,Ou=Su.scaleVal,Cu=wu.scaler,Eu="settings";function xu(e){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(e)}function Tu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Du(i.key),i)}}function Lu(e,t){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lu(e,t)}function Pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ju(e);if(t){var r=ju(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _u(e)}(this,n)}}function _u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ju(e){return ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ju(e)}function Du(e){var t=function(e,t){if("object"!==xu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xu(t)?t:String(t)}$.def(Eu,bu,(function(e){var t=$.model,n=($.model.rtl,me.getColor(e,".cs-button","color")),i=me.getColor(e,".cs-checkbox .cs-box.checked.after","color"),r=me.getColor(e,".cs-checkbox .cs-box","border-color"),o=me.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),a=me.getColor(e,".cs-menu","background-color"),l=$.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:Eu,class:"btn cs-button cs-settings"},overflow:"visible",w:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getControlConfigs:function(){return[].concat(mu(DS.frameModel.hasModernText?[{name:"acctext",labelId:"accessible_text",isOn:function(){return DS.appState.accessibleTextOn()}}]:[]),[{name:"shortcuts",labelId:"keyboardshortcuts_lower",isOn:function(){return DS.shortcutManager.enabled}}])},getToggleControls:function(){return this.getControlConfigs().map((function(e){var o=e.name,l=e.labelId,c=(0,e.isOn)();return'\n            <div class="switch '.concat(c?"toggle-on":"toggle-off",'" data-ref="').concat(o,'Switch">\n              <label class="switch-label" id="').concat(o,'-label">\n                ').concat(t.getString(l),'\n              </label>\n              <button class="switch-toggle" id="').concat(o,'-switch" tabindex="0" role="switch" aria-checked="').concat(c,'" aria-labelledby="').concat(o,'-label">\n                ').concat(oo("track")(Cu.getScale(),i,r,a,n,o),"\n              </button>\n            </div>\n          ")})).join("")},updatePanelPosition:function(){if(null!=l){var e=this.children.settingsPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=l.el.getBoundingClientRect(),i=0;t.right>n.right&&(i=n.right-(t.right+Ou(bt))),t.left<n.left&&(i=n.left-t.left+Ou(bt)),e.style.left=ku(i)}},scaleControls:function(){var e=this.children.settingsPanel.el,t=Ou(18),n=Ou(8);e.style.bottom=ku(Ou(39)),e.style.padding="".concat(n,"px ").concat(t,"px ").concat(n,"px ").concat(t,"px");var i=this.children.downArrow.el,r=i.querySelector("svg");i.style.bottom=ku(Ou(41)),i.style.left=ku(Ou(2)),r.width.baseVal.value=Ou(22),r.height.baseVal.value=Ou(11);var o=e.querySelectorAll(".switch");_.forEach(o,(function(e){e.style.margin="".concat(Ou(15),"px 0 ").concat(Ou(15),"px 0");var t=e.querySelector(".switch-toggle > svg");t.width.baseVal.value=Ou(24),t.height.baseVal.value=Ou(16)}));var a=this.el.querySelector("svg");a.width.baseVal.value=Ou(16),a.height.baseVal.value=Ou(18)}},updateHook:function(){this.scaleControls(),this.updatePanelPosition()},html:function(){return'\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(oo("settings")(Cu.getScale()),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel cs-menu" style="background:').concat(a,"; border: 1px solid ").concat(o,';" tabindex="-1">\n          <div class="settings-content">\n            ').concat(this.getToggleControls(),'\n          </div>\n        </div>\n        <div data-ref="downArrow" class="panel-down-arrow">\n          ').concat(oo("downArrow")(a),"\n        </div>\n      ")}}}));var Iu=DS,Au=Iu.pubSub,Ru=Iu.captionsManager,Bu=Iu.stringTabler,Mu=Iu.events.captions,Hu=Mu.SHOW_BUTTON,Nu=Mu.HIDE_BUTTON,Fu=Mu.ENABLED,Vu=Mu.ENABLE,Wu=Iu.detection.theme.isUnified,Uu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lu(e,t)}(o,e);var t,n,i,r=Pu(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=_u(t),a=!0,(i=Du(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickCaptions),t.toggle=!1,Au.on(Hu,(function(e){return t.onVisibilityChanged(!0)})),Au.on(Nu,(function(e){return t.onVisibilityChanged(!1)})),Au.on(Fu,t.onCaptionsEnabled.bind(_u(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=Ru.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",Bu.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),Wu&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Au.trigger(Vu,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){Au.off(Hu),Au.off(Nu),Au.off(Fu)}}])&&Tu(t.prototype,n),i&&Tu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),zu="captions",Ku=DS.utils;Ku.pxify,Ku.scaleVal;function Gu(e){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(e)}function qu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ju(i.key),i)}}function Zu(e,t){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zu(e,t)}function Qu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xu(e);if(t){var r=Xu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Gu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yu(e)}(this,n)}}function Yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xu(e)}function $u(e,t,n){return(t=Ju(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ju(e){var t=function(e,t){if("object"!==Gu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Gu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gu(t)?t:String(t)}$.def(zu,Uu,(function(){var e=$.model;return{tag:"button",attrs:{id:zu,class:"cs-button btn content-center","aria-label":e.getString("acc_closed_captions"),"aria-pressed":!1,tabindex:0},minW:40,minH:30,y:"vertical-center",visible:!1,html:function(){return oo("captions")()}}}));var ef=DS,tf=ef._,nf=ef.events,rf=ef.pubSub,of=ef.detection,af=ef.dom.tappedClass,lf=ef.keyManager,cf=ef.stringTabler,sf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zu(e,t)}(o,e);var t,n,i,r=Qu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),$u(Yu(t=r.call(this,e)),"hasTooltip",!0),$u(Yu(t),"onTap",(function(e){af(t.el)})),$u(Yu(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():of.theme.isUnified&&t.currTimeline.reset()})),$u(Yu(t),"onKeydown",(function(e){var t=e.which;lf.isSeekKey(t)&&rf.trigger(nf.player.SEEK,e)})),$u(Yu(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),tf.bindAll(Yu(t),"onTimelineChanged"),rf.on(nf.player.TOGGLE_PLAYBACK,t.onClickBtn),rf.on(nf.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),of.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,of.deviceView.isMobile&&rf.on(nf.currTimeline.TICK,t.onTick.bind(Yu(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){rf.off(nf.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",cf.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&qu(t.prototype,n),i&&qu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),uf="playPause",ff=DS.utils,df=(ff.encode,ff.scaleVal);function hf(e){return hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(e)}function pf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wf(i.key),i)}}function yf(e,t){return yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yf(e,t)}function vf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mf(e);if(t){var r=mf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===hf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bf(e)}(this,n)}}function bf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mf(e)}function gf(e,t,n){return(t=wf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wf(e){var t=function(e,t){if("object"!==hf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==hf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hf(t)?t:String(t)}$.def(uf,sf,(function(){var e=$.model;return{tag:"button",attrs:{id:uf,class:"content-center cs-button","aria-pressed":!1,"aria-label":"".concat(e.getString("acc_play"),"/").concat(e.getString("acc_pause")),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return this.toggle?oo("pause")(df(14),df(12)):oo("play")(df(14),df(11))},y:"vertical-center",minW:30,minH:30,z:1,updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle);var e=this.el.querySelector("svg");e.height.baseVal.value=df(14),e.width.baseVal.value=df(this.toggle?12:11)}}}));var Sf=DS,kf=Sf._,Of=Sf.detection,Cf=Sf.utils,Ef=Sf.keyManager,xf=Sf.dom,Tf=Sf.dom,Lf=Tf.addClass,Pf=Tf.removeClass,_f=Sf.globalEventHelper.addWindowListener,jf=Sf.events,Df=Sf.pubSub,If=(Sf.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),Af=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yf(e,t)}(o,e);var t,n,i,r=vf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),gf(bf(t=r.call(this,e)),"hasTooltip",!0),gf(bf(t),"tooltipMoves",!0),kf.bindAll(bf(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),Df.on(jf.slide.STARTED,t.checkSeekable),Df.on(jf.player.SEEK,t.onKeydown),Df.on(jf.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!$.model.frame.controlOptions.controls.readonly||$.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=Of.deviceView.isClassicDesktop?this.seekEl:this.view.el;Of.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=$.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return Cf.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return Of.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(jf.timeline.TICK,this.onTick),this.currTimeline.off(jf.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(jf.timeline.TICK,this.onTick),this.currTimeline.on(jf.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=Cf.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(Pf(this.el,"read-only"),this.progressBarEl.disabled=!1):(Lf(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%"),this.progressBarEl.setAttribute("aria-valuetext","".concat(Math.round(t),"%")),this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,Df.trigger(jf.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(jf.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(jf.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var i=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=_f(this.endEvent,this.onMouseUp),this.removeSeekListener=_f(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;Ef.isActionKey(t)?Df.trigger(jf.player.TOGGLE_PLAYBACK):this.isSeekable()&&(Ef.isDownishKey(t)?this.seekBy(e,-100):Ef.isPageDownKey(t)?this.seekBy(e,-1e3):Ef.isUpishKey(t)?this.seekBy(e,100):Ef.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){Jt.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){this.view.getBox().x;var t=this.getSeekValue(xf.mouseX)*this.duration;null!=e&&"focusin"===e.type&&(t=Math.floor(Cf.toSeconds(this.progressBarEl.value)));var n=Cf.formatSecondsAsTime(t),i=Cf.formatSecondsAsTime(this.duration);return"".concat(If(n)," / ").concat(If(i))}}}])&&pf(t.prototype,n),i&&pf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Rf="seek",Bf=DS,Mf=Bf.utils,Hf=Mf.pxify,Nf=Mf.scaleVal,Ff=Bf.vendorOverrides.fixStyleString;function Vf(e){return Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(e)}function Wf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Zf(i.key),i)}}function Uf(e,t){return Uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uf(e,t)}function zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Gf(e);if(t){var r=Gf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Vf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kf(e)}(this,n)}}function Kf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gf(e)}function qf(e,t,n){return(t=Zf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zf(e){var t=function(e,t){if("object"!==Vf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Vf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vf(t)?t:String(t)}$.def(Rf,Af,(function(){var e=$.model,t=$.model.frame.controlOptions.controls,n=t.readonly,i=$.getCurrentNameSpaceString(),r=function(){return Ff("#seek:before {\n      border: 1px solid ".concat(me.getColor(i,".cs-seekcontrol","border-top-color"),";\n      background-image: ").concat(me.getColor(i,".cs-seekcontrol","background-image").replace("(, ","(180deg,"),";\n      background-repeat: no-repeat !important;\n      border-radius: ").concat(Hf(Nf(7)),";\n      height: ").concat(Hf(Nf(30))," !important;\n      width: calc(100% + ").concat(Hf(Nf(60)),");\n      left: -").concat(Hf(Nf(30)),";\n    }"))};return{attrs:{id:Rf,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(n?"read-only":"")},y:"vertical-center",overflow:"visible",noUpdate:!0,w:function(){return this.width||0},h:30,html:'\n      <style data-ref="styleContainer" class="style-container">\n        '.concat(r(),'\n      </style>\n\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable" data-ref="seekInner">\n        <div data-ref="seek" class="cs-seek progress-bar-seek" style="height: ').concat(Hf(Nf(18)),'; position: absolute; top: 50%; transform: translate(0%, -50%);">\n          <input\n            tabIndex="0"\n            type="range"\n            aria-hidden="').concat(!t.seekbar,'"\n            aria-label="').concat(e.getString("acc_slide_progress"),'"\n            data-ref="progressBar"\n          >\n          <div class="cs-fill progress-bar-fill" style="width: 0px" data-ref="progressBarFill"></div>\n        </div>\n      </div>\n    '),updateHook:function(){this.children.seek.el.style.height=Hf(Nf(18)),this.children.seekInner.el.style.top=Hf(Nf(6)),this.children.styleContainer.el.innerText=r()}}}));var Qf=DS,Yf=Qf._,Xf=Qf.events,$f=Qf.pubSub,Jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uf(e,t)}(o,e);var t,n,i,r=zf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),qf(Kf(t=r.call(this,e)),"hasTooltip",!0),qf(Kf(t),"tooltipKey","acc_replay"),Yf.bindAll(Kf(t),"onClickBtn","onTimelineChanged"),t.onClick(t.onClickBtn),$f.on(Xf.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t}return t=o,(n=[{key:"onClickBtn",value:function(){this.resetTimeline()}},{key:"resetTimeline",value:function(){this.currTimeline.reset()}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e}}])&&Wf(t.prototype,n),i&&Wf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),ed="reset",td=DS.utils;td.encode,td.scaleVal;function nd(e){return nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(e)}function id(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cd(i.key),i)}}function rd(e,t){return rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rd(e,t)}function od(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ld(e);if(t){var r=ld(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===nd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ad(e)}(this,n)}}function ad(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(e)}function cd(e){var t=function(e,t){if("object"!==nd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==nd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nd(t)?t:String(t)}$.def(ed,Jf,(function(){return{tag:"button",attrs:{id:ed,class:"content-center cs-button","aria-label":$.model.getString("acc_replay"),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return oo("replay")()},y:"vertical-center",z:1,minW:30,minH:30}}));var sd=DS,ud=sd.detection,fd=sd.dom,dd=sd.pubSub,hd=sd.events,pd={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},yd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rd(e,t)}(o,e);var t,n,i,r=od(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=ad(t),a=!0,(i=cd(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,ud.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return pd[this.view.nameKey]}},{key:"onTap",value:function(e){fd.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,i=t.nameKey;n&&dd.trigger(hd.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&id(t.prototype,n),i&&id(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),vd="prev",bd=DS.utils;bd.pxify,bd.scaleVal;$.def(vd,yd,(function(){var e=$.model,t=$.model,n=t.dir,i=t.rtl;return{tag:"button",attrs:{id:vd,class:"cs-button btn",tabindex:0,"aria-label":e.getString(i?"acc_next":"acc_previous")},html:n([oo(i?"next":"prev")(),e.getString("prev")]).join("\n"),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},calcTextSize:!0,w:"fit-to-text-w",y:"vertical-center",padLeft:i?0:8,padRight:i?8:0,minW:71,minH:30}}));var md="next",gd=DS.utils;gd.pxify,gd.scaleVal;$.def(md,yd,(function(){var e=$.model,t=$.model,n=t.dir,i=t.rtl;return{tag:"button",attrs:{id:md,class:"cs-button btn","aria-label":e.getString(i?"acc_previous":"acc_next"),tabindex:0},html:n([e.getString("next"),oo(i?"prev":"next")()]).join("\n"),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},calcTextSize:!0,padRight:i?0:8,padLeft:i?8:0,w:"fit-to-text-w",y:"vertical-center",minW:71,minH:30}}));var wd="submit";function Sd(e){return Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(e)}function kd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Sd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Sd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Sd(o)?o:String(o)),i)}var r,o}function Od(e,t){return Od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Od(e,t)}function Cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xd(e);if(t){var r=xd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Sd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ed(e)}(this,n)}}function Ed(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xd(e)}$.def(wd,yd,(function(){var e=$.model;return{tag:"button",attrs:{id:wd,class:"cs-button btn","aria-label":e.getString("acc_submit"),tabindex:0},html:"".concat($.model.getString(wd)),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},overflow:"visible",w:"fit-to-text-w",y:"vertical-center",calcTextSize:!0,minW:71,minH:30,noUpdate:!0}}));var Td=DS,Ld=Td._,Pd=Td.detection,_d=Td.pubSub,jd=Td.events,Dd=Td.focusManager,Id=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Od(e,t)}(o,e);var t,n,i,r=Cd(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Ld.bindAll(Ed(t),"onStart","onClickCallback"),_d.once(jd.request.START,t.onStart),t}return t=o,(n=[{key:"onStart",value:function(e){this.rejectDeferred=e,this.el.classList.add("opaque"),this.playIconEl.addEventListener("click",this.onClickCallback),this.toggleVisibility(!0),Pd.env.is360||this.playIconEl.focus(),_d.trigger(jd.startOverlay.READY)}},{key:"onFocus",value:function(){Dd.setFocusRectOn(this.playIconEl)}},{key:"onClickCallback",value:function(){var e=this;this.view.children.playIcon.el.removeEventListener("click",this.onClickCallback),_d.trigger(jd.loader.UNMUTE),Pd.deviceView.isMobile?_d.once(jd.slide.STARTED,(function(){e.el.classList.remove("opaque")})):this.el.classList.remove("opaque"),this.rejectDeferred(),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){this.el.classList.add(e?"shown":"hidden"),this.el.classList.remove(e?"hidden":"shown")}}])&&kd(t.prototype,n),i&&kd(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Ad=DS.stringTabler;$.def("startoverlay",Id,(function(){return{attrs:{class:"start-overlay hidden","aria-modal":"true",role:"dialog","aria-label":"".concat(Ad.getString(DS.constants.strings.PROJECT_TITLE)," ").concat(Ad.getString("desktop_start"))},x:0,y:0,w:"100%",h:"100%",add:!0,html:function(){return"<button\n        aria-label=".concat(Ad.getString("desktop_start"),'\n        data-ref="playIcon"\n        tabindex="0"\n        data-leavealone="0">\n        <div class="cs-button">\n          <svg viewBox="0 0 100 100" width="100" height="100">\n            <path d="M 81.94 50.00 L 31.03 20.61 L 31.03 79.39" fill="currentColor" />\n          </svg>\n        </div>\n      </div>')}}}));function Rd(e){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(e)}function Bd(e,t,n){return(t=Hd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Md(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hd(i.key),i)}}function Hd(e){var t=function(e,t){if("object"!==Rd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Rd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rd(t)?t:String(t)}function Nd(e,t){return Nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nd(e,t)}function Fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wd(e);if(t){var r=Wd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Rd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vd(e)}(this,n)}}function Vd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wd(e)}$.def("captionContainer",(function(){return{attrs:{class:"caption-container"},z:2,w:"100%",h:"100%",add:!0}}));var Ud=DS,zd=Ud._,Kd=Ud.pubSub,Gd=Ud.dom,qd=Ud.detection,Zd=Ud.events,Qd=Ud.utils.pxify,Yd=Ud.constants.DESKTOP_LOADER_DELAY*(qd.browser.isIE?2:1),Xd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nd(e,t)}(o,e);var t,n,i,r=Fd(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,e),zd.bindAll(Vd(n),"onShow","onHide","onMouseMove","onCtxMenu"),Kd.on((Bd(t={},Zd.app.SHOW_LOADER,n.onShow),Bd(t,Zd.app.HIDE_LOADER,n.onHide),t)),n.view.el.addEventListener("contextmenu",n.onCtxMenu),n}return t=o,(n=[{key:"onShow",value:function(){var e=this;this.spinnerTimeout=setTimeout((function(){document.body.addEventListener("mousemove",e.onMouseMove),e.updateSpinnerLoc(),e.view.el.style.cursor="none",e.view.setVisibility(!0)}),Yd)}},{key:"onHide",value:function(){clearTimeout(this.spinnerTimeout),document.body.removeEventListener("mousemove",this.onMouseMove),this.view.el.style.cursor="",this.view.setVisibility(!1)}},{key:"onMouseMove",value:function(){this.updateSpinnerLoc()}},{key:"onCtxMenu",value:function(e){e.preventDefault()}},{key:"updateSpinnerLoc",value:function(){this.spinnerEl.style.left=Qd(Gd.mouseX),this.spinnerEl.style.top=Qd(Gd.mouseY)}},{key:"teardown",value:function(){Kd.off("app:showLoader",this.onShow),Kd.off("app:hideLoader",this.onHide),this.view.el.removeEventListener("contextmenu",this.onCtxMenu)}}])&&Md(t.prototype,n),i&&Md(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),$d="slideLoaderOverlay";function Jd(e){return function(e){if(Array.isArray(e))return eh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return eh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}$.def($d,Xd,(function(){$.model;return{attrs:{id:$d},w:null,h:null,html:'<div class="slide-loader" data-ref="spinner"></div>'}}));var th=DS.constants.refs.FRAME,nh=DS,ih=nh.pubSub,rh=nh.events,oh=nh.scaler;function ah(e){return ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(e)}function lh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ah(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ah(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ah(o)?o:String(o)),i)}var r,o}var ch=DS,sh=ch._,uh=ch.pubSub,fh=ch.events,dh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),sh.bindAll(this,"onSlideTransitionIn","onWindowClosing"),uh.on(fh.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),uh.on(fh.window.CLOSING,this.onWindowClosing)}var t,n,i;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&lh(t.prototype,n),i&&lh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function ph(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==hh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==hh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yh="lightBoxWrapper",vh=DS,bh=vh.utils.scaleVal,mh=vh.scaler;$.def(yh,dh,(function(e){var t,n=$.model,i=n.frame.fontscale,r=n.preso.display().windows().find({id:e});return ph(t={attrs:{id:yh,class:"cs-base cs-".concat(n.frame.default_layout," fn-").concat(n.frame.default_layout)},style:{fontSize:"".concat(bh(i),"%")}},"style",{transformOrigin:"0px 0px",transform:"translate(-50%, -50%)",background:"black"}),ph(t,"dimScale",(function(){return mh.getScale()})),ph(t,"overflow","visible"),ph(t,"w",r.get("width")),ph(t,"h",r.get("height")),ph(t,"x",(function(){return(window.innerWidth-bh(this.w))/2})),ph(t,"y",(function(){return(window.innerHeight-bh(this.h))/2})),ph(t,"updateHook",(function(){this.el.style.fontSize="".concat(bh(i),"%")})),ph(t,"add",!0),t}));var gh=DS.constants.LIGHTBOX_SCALAR,wh="lightBoxSlide";$.def(wh,ai,(function(){var e=$.model;return{attrs:{class:wh,role:"dialog","aria-modal":!0},origin:"0 0",w:e.slideWidth*gh,h:e.slideHeight*gh,x:function(){return(this.parent.w-this.w)/2},y:function(){return this.x},z:1,bgColor:"black",add:!0,html:'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" tabindex="-1"></main>',childViews:["captionContainer"],updateHook:function(){this.children.captionContainer.update()},winScale:function(){return DS.scaler.getScale()*gh}}}));var Sh="lightBox",kh=DS.utils,Oh=kh.scaleVal,Ch=kh.pxify;function Eh(e){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(e)}function xh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Eh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Eh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Eh(o)?o:String(o)),i)}var r,o}function Th(e,t){return Th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Th(e,t)}function Lh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ph(e);if(t){var r=Ph(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Eh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(e)}$.def(Sh,(function(){return{attrs:{class:"".concat(Sh," cs-base")},x:0,y:0,w:"100%",h:"100%",border:"".concat(Ch(Oh(4))," solid black"),offsets:{l:4,t:4},overflow:"visible",contentStyle:{width:"100%",height:"100%"},updateHook:function(){this.el.style.borderWidth=Ch(Oh(4))}}}));var _h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Th(e,t)}(o,e);var t,n,i,r=Lh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&xh(t.prototype,n),i&&xh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),jh="lightBoxClose";DS.utils.scaleVal;$.def(jh,_h,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:jh,tabindex:0,"aria-label":DS.stringTabler.getString("close")},html:oo("close"),y:function(){return-this.h/2+2},x:function(){return this.parent.w-this.w/2-2},model:t,w:20,h:20}}));var Dh=DS.scaler,Ih=function(e){return e/Dh.getScale()};$.def("visibleOverlay",(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return Ih(window.innerWidth)},h:function(){return Ih(window.innerHeight)},position:"fixed",bgColor:"rgba(0, 0, 0, 0.4)",add:!0}}));var Ah="LightboxWnd",Rh="lightBoxBottom";$.def(Rh,(function(){return{tag:"nav",attrs:{id:Rh},x:-4,y:function(){return this.parent.h-this.h-4},w:"100%",h:gt,updateHook:function(){if(this.hasAllChildren()){this.flowChildren({pad:bt,startPos:this.w,toLeft:!0});var e=this.children.captions;e.x=bt,e.update()}}}}));var Bh="LightboxControlsWnd",Mh="printWrapper";$.def(Mh,(function(e){return{attrs:{id:Mh,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Hh=DS.constants.printSettings,Nh="printSlide";$.def(Nh,ai,(function(e){var t=$.model.slideWidth;return{attrs:{id:Nh,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?Hh.android.pageW:n?Hh.ios.pageW:Hh.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Fh="PrintWindow",Vh="messageWindowWrapper",Wh=DS,Uh=Wh.scaler,zh=(Wh.utils.scaleVal,function(e){return e/Uh.getScale()});$.def(Vh,(function(e){var t=$.model,n=t.preso.display().windows().find({id:e}),i=$.getNamespace(DS.constants.refs.FRAME),r=i.slide,o=i.wrapper;return{attrs:{id:Vh,class:"cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:n.get("width"),h:n.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},dimScale:function(){return Uh.getScale()},x:function(){return zh(o.x)+(r.x+(r.w-this.w)/2)},y:function(){return zh(o.y)+(r.y+(r.h-this.h)/2)},add:!0}}));var Kh="messageWindowSlide";$.def(Kh,ai,(function(){return{attrs:{id:Kh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label" role="presentation"></div><div data-ref="container" class="slide-container"></div>',winScale:function(){return DS.scaler.getScale()}}}));$.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Gh="MessageWnd",qh=DS.scaler,Zh="shortcutWrapper";$.def(Zh,(function(e){var t=$.model,n=$.getNamespace(DS.constants.refs.FRAME),i=(n.slide,n.wrapper);return{attrs:{id:Zh,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:function(){return.7*i.w},h:function(){return.7*i.h},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},x:function(){return i.x/qh.getScale()+(i.w-this.w)/2},y:function(){return i.y/qh.getScale()+(i.h-this.h)/2},add:!0}}));var Qh=function(){return"no icon"},Yh={track:function(e,t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#D1D1D1" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#585858" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#DBDBDB" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>\n      </svg>\n    ')}};function Xh(e){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(e)}function $h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Xh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Xh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Xh(o)?o:String(o)),i)}var r,o}function Jh(){return Jh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ip(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Jh.apply(this,arguments)}function ep(e,t){return ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ep(e,t)}function tp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ip(e);if(t){var r=ip(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Xh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return np(e)}(this,n)}}function np(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ip(e)}var rp="shortcutSlide",op="comma_key",ap="period_key",lp="question_mark_key",cp=DS,sp=cp._,up=cp.shortcutManager,fp=cp.keyManager,dp=cp.pubSub,hp=cp.events,pp=hp.window.CLOSING,yp=hp.player.ENABLE_KEYBOARD_SHORTCUTS,vp=cp.MicroScrollBar,bp=cp.focusManager,mp=(cp.flagManager,cp.constants),gp=cp.globalEventHelper.addDocumentListener;function wp(e,t,n){return(e.ctrl?t.getString("ctrl_key")+"+":"")+(e.alt?t.getString("alt_key")+"+":"")+(e.shift?t.getString("shift_key")+"+":"")+function(e,t,n){if(n)switch(e.key){case"?":return t.getString(lp);case".":return t.getString(ap);case",":return t.getString(op)}return(e.keyName||e.key).toUpperCase()}(e,t,n)}var Sp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ep(e,t)}(o,e);var t,n,i,r=tp(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),sp.bindAll(np(t),"onKeyboardShortcutsChanged","toggleKeyboardShortcuts","onFocus","onKeydown"),dp.on(pp,t.closeWindow),t.removeKeydownListener=gp("keydown",t.onKeydown),null!=t.keyboardShortcutsSwitchEl&&(t.onClickEl(t.keyboardShortcutsSwitchEl,t.toggleKeyboardShortcuts),dp.on(yp,t.onKeyboardShortcutsChanged)),t}return t=o,(n=[{key:"onKeydown",value:function(e){fp.isKey(e.which,mp.keys.ESCAPE)&&this.closeWindow("ShortcutWnd")}},{key:"closeWindow",value:function(e){"ShortcutWnd"===e&&up.closeShortcutWindow()}},{key:"onKeyboardShortcutsChanged",value:function(e){e?(this.keyboardShortcutsSwitchEl.classList.add("toggle-on"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-off"),this.shortcutsTableEl.classList.remove("disabled")):(this.keyboardShortcutsSwitchEl.classList.add("toggle-off"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-on"),this.shortcutsTableEl.classList.add("disabled")),this.keyboardShortcutsSwitchEl.querySelector("button").setAttribute("aria-checked",e)}},{key:"toggleKeyboardShortcuts",value:function(){up.enableShortcuts(!up.enabled)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&bp.setFocusRectOn(t)}},{key:"teardown",value:function(){dp.off(pp,this.closeWindow),null!=this.keyboardShortcutsSwitchEl&&dp.off(yp,this.onKeyboardShortcutsChanged),this.removeKeydownListener(),Jh(ip(o.prototype),"teardown",this).call(this)}}])&&$h(t.prototype,n),i&&$h(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(ai);$.def(rp,Sp,(function(){var e=$.model;return{attrs:{id:rp,class:"shortcut-slide","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},style:{overflow:"scroll"},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var t=DS.detection.theme.isUnified?[mp.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"]:[mp.refs.FRAME,".cs-duration stop:last-child","stop-color",void 0,".cs-duration stop"],n=me.getColor.apply(me,t),i='\n        <div class="switch '.concat(up.enabled?"toggle-on":"toggle-off",'" data-ref="keyboardShortcutsSwitch">\n          <label id="shortcuts-label" class="switch-label">').concat(e.getString("enable_keyboardshortcuts"),'</label>\n          <button class="switch-toggle" tabindex="0" role="switch" aria-checked="').concat(up.enabled,'" aria-labelledby="shortcuts-label">\n            ').concat((Yh["track"]||Qh)(n,"shortcuts"),"\n          </button>\n        </div>"),r="<h1>".concat(e.getString("keyboardshortcuts")).concat(i,"</h1>"),o=up.getShortcutList().map((function(t){var n=t.name,i=t.keyInfo;return'<tr class="'.concat("?"===i.key?"":"disableable",'">\n            <td class="action">').concat(n,'</td>\n            <td class="key">\n              <span aria-hidden="true">').concat(wp(i,e,!1),'</span>\n              <span class="sr-only">').concat(wp(i,e,!0),"</span>\n            </td>\n          </tr>")})).join(""),a='<tr><th class="action">'.concat(e.getString("action"),'</th><th class="key">').concat(e.getString("shortcut"),"</th></tr>");return[r,'<table data-ref="shortcutsTable">'.concat(a).concat(o,"</table>")].join("")},childDef:function(){null==this.scrollbar&&(this.scrollbar=new vp(this.el,"shortcut-slide"))}}}));var kp=DS.scaler,Op="shortcutClose";$.def(Op,_h,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Op,class:"close-btn-floating",tabindex:0,"z-index":999,"aria-label":$.model.getString("close"),"data-aria-label-id":"close"},style:{overflow:"visible"},html:function(){return'<svg class="cs-icon icon-close" width="'.concat(20*kp.getScale(),'" height="').concat(20*kp.getScale(),'" viewBox="0 0 36 36" focusable="false">\n                <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n              </svg>')},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",$.model.getString("close"))}},y:35,x:function(){var e=$.getNamespace("_frame").wrapper;return Math.max(window.innerWidth/kp.getScale(),e.w)-(this.w+35)},model:t,w:20,h:20}}));var Cp="ShortcutWnd",Ep="messagePromptWrapper";$.def(Ep,(function(e){var t=$.model,n=$.getNamespace(DS.constants.refs.FRAME),i=n.slide,r=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:Ep,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return r.scale},x:function(){var e=r.scale;return r.x+(i.x+(i.w-this.w)/2)*e},y:function(){var e=r.scale;return r.y+(i.y+(i.h-this.h)/2)*e},add:!0}}));function xp(e){return xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(e)}function Tp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==xp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===xp(o)?o:String(o)),i)}var r,o}function Lp(){return Lp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jp(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Lp.apply(this,arguments)}function Pp(e,t){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pp(e,t)}function _p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jp(e);if(t){var r=jp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===xp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(e)}$.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Dp=DS,Ip=Dp.events,Ap=Dp.pubSub,Rp=Dp.focusManager,Bp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pp(e,t)}(o,e);var t,n,i,r=_p(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,i=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);Ap.trigger(Ip.prompt.CLOSING,this.promptId),Ap.trigger(Ip.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),i)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&Rp.setFocusRectOn(t)}},{key:"teardown",value:function(){Lp(jp(o.prototype),"teardown",this).call(this)}}])&&Tp(t.prototype,n),i&&Tp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(ai),Mp=DS.MicroScrollBar,Hp="invalidPromptSlide";$.def(Hp,Bp,(function(e){var t=$.model;return{attrs:{id:Hp,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),i=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Mp(e,"message-window-text"))}}}));var Np=DS,Fp=Np.MicroScrollBar,Vp=(Np.pubSub,Np.events,"printPromptSlide");$.def(Vp,Bp,(function(e){var t=$.model;return{attrs:{id:Vp,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),i=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Fp(e,"message-window-text"))}}}));var Wp=DS.MicroScrollBar,Up="timerPromptSlide";$.def(Up,Bp,(function(e){var t=$.model;return{attrs:{id:Up,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),i=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Wp(e,"message-window-text"))}}}));var zp,Kp={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},Gp=function(e){var t=e,n=Kp[e];return{nameSpace:t,render:function(e){var i=$.tree(t,["overlay",{messagePromptWrapper:[n]}]),r=$.getNamespace(t);return r.slide=r[n],r.wrapper=r.messagePromptWrapper,{all:function(){return $.update(i)},resize:function(){r.isAttached&&(r.overlay.update(),r.messagePromptWrapper.update())}}}}};function qp(e){return qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(e)}function Zp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==qp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==qp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qp=Gp("InvalidPrompt"),Yp=Qp.render,Xp=Qp.nameSpace,$p=Gp("PrintPrompt"),Jp=$p.render,ey=$p.nameSpace,ty=Gp("TimerPrompt"),ny=ty.render,iy=ty.nameSpace;!function(e,t){yt(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(Ie=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(Ie.localization),DS.localizationManager.loadFrameData().then((function(e){Ae=e,vt()}))):vt(),window.globalProvideData=t)},at.on(qe,(function(e){new Ve,De=new v(Ie,Ae,e),$.setModel(De),st.initialize(De),ut.initialize((function(e){return De.getString(e)})),me.initializeCssColorVars(),DS.frameModel=De,DS.views=$,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&ft.addClass(document.body,"chromeless"),at.trigger(Ye)})),window.globals.useJson){var n=e.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(e)}(t)}((Zp(zp={},th,(function(e){var t=e.topTabsLeft,i=e.topTabsRight,r=e.sidebarOpts,o=r.timeEnabled,a=r.logoEnabled,l=r.html5_logo_url,c=r.logoPlaceholderText,s=e.frame.controlOptions.controls,u=s.closed_captions,f=s.settings,d=$.tree(th,[{wrapper:[{frame:["slide",e.frame.skip_nav_enabled?"skipnav":null,{bottomBar:[{playbackControls:["playPause","seek","reset"]},{miscControls:["volume"].concat(Jd(u?["captions"]:[]),Jd(f?["settings"]:[]))},{navControls:["prev","next","submit"]}]},{sidebar:[].concat(Jd(a&&(l||c)?["logo"]:[]),["tabs","sidebarPanels"])},{topBar:["title",{topTabs:["linksLeft","linksRight"]}].concat(Jd(o?["timer"]:[]))}]},"startoverlay"]},window.globals.HAS_SLIDE?"slideLoaderOverlay":null]),h=function(e){return function(t){return t.name===e}},p=function(e){return!t.some(h(e))&&!i.some(h(e))},y=function(t,i){if(i===th){var r=function(e,t){var i=e.sidebarOpts.sidebarEnabled;return i&&(i=n(e.sidebarTabs,t)),i||e.sidebarOpts.logoEnabled}(e,t),o=n([].concat(Jd(e.topTabsRight),Jd(e.topTabsLeft)),t),a={playbackControls:t.seekbar,next:t.next,prev:t.previous,submit:t.submit,skipnav:r||o,volume:t.volume,glossaryTab:t.glossary,glossaryPanel:t.glossary&&p("glossary"),glossaryLink:t.glossary,resourcesTab:t.resources,resourcesPanel:t.resources&&p("resources"),resourcesLink:t.resources,outlineTab:t.outline.enabled,outlinePanel:t.outline.enabled&&p("outline"),outlineLink:t.outline.enabled,search:t.outline.search,transcriptTab:t.transcript,transcriptPanel:t.transcript&&p("transcript"),transcriptLink:t.transcript,sidebar:r,bottomBar:e.bottomBarOpts.bottomBarEnabled};$.resetStates(th),$.updateVisibility(a,th),$.update(d)}};ih.on(rh.frameModel.LAYOUT_CHANGED,y);var v=function(e){var t=e.kind,n=e.name,i=e.visible,r=e.enable,o=e.affectTabStop,a="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var l=$["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=l&&(a?"toggle_window_control_visible"===t?(l.setVisibility(!l.visible),l.childVisibilityChanged()):l.setEnabled(!l.enabled,o):"set_window_control_visible"===t?(l.setVisibility(i),l.childVisibilityChanged()):l.setEnabled(r,o))};ih.on(rh.navcontrols.CHANGED,v);var b=new _t(e);b.update();var m=oh.isShowAll()?function(){b.update()}:_.noop;return{all:function(){$.update(d),m()},resize:function(){$.update(d),m()},rerender:function(){$.update(d,!0),m(),$.nameSpaces[th].wrapper.updateChildren(!0),DS.renderEngine.createWindowFor()},destroy:function(){ih.off(rh.navcontrols.CHANGED,v),ih.off(rh.frameModel.LAYOUT_CHANGED,y),$.nameSpaces[th].topLevelElements.forEach((function(e){return e.destroy()}))}}})),Zp(zp,Ah,(function(e){var t=$.tree(Ah,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide","lightBox","lightBoxClose"]}]),n=$.getNamespace(Ah);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t)}}})),Zp(zp,Bh,(function(e){var t=$.tree(Bh,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["submit","next","prev","captions"]}]},"lightBoxClose"]}]),n=$.getNamespace(Bh);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper;var i=function(e,n){if(n===Bh){var i={next:e.next,prev:e.previous,submit:e.submit};$.resetStates(Bh),$.updateVisibility(i,Bh),$.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(e.currControlLayout),{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t)}}})),Zp(zp,Fh,(function(e){$.tree(Fh,[{printWrapper:["printSlide"]}]);var t=$.getNamespace(Fh);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),Zp(zp,Gh,(function(e){var t=$.tree(Gh,["overlay",{messageWindowWrapper:["messageWindowSlide"]}]),n=$.getNamespace(Gh);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t)}}})),Zp(zp,Cp,(function(e){var t=$.tree(Cp,["visibleOverlay",{shortcutWrapper:["shortcutSlide"]},"shortcutClose"]),n=$.getNamespace(Cp);return n.slide=n.shortcutSlide,n.wrapper=n.shortcutWrapper,{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t,!0)}}})),Zp(zp,Xp,Yp),Zp(zp,ey,Jp),Zp(zp,iy,ny),zp),"html5/data/js/frame.js")}();
